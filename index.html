<!doctype html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width">
  <title>[##_page_title_##]</title>
  <link rel="alternate" type="application/rss+xml" title="[##_title_##]" href="[##_rss_url_##]" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Highlight.js (코드 신택스 하이라이팅) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

  <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" href="./images/font.css">
  <style>
    /* 홈화면 리다이렉트 시 깜빡임 방지 */
    #tt-body-index .cont_skin,
    #tt-body-index .area_foot { visibility: hidden; }

    <s_if_var_cover-image>.wrap_sub {
      background-image: url('[##_var_cover-image_##]');
    }
    </s_if_var_cover-image>
  </style>

  <!--[if lt IE 9]>
  <script src="//t1.daumcdn.net/tistory_admin/lib/jquery/jquery-1.12.4.min.js"></script>
  <![endif]-->
  <!--[if gte IE 9]><!-->
  <script src="//t1.daumcdn.net/tistory_admin/lib/jquery/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <!--<![endif]-->
</head>

<body id="[##_body_id_##]">
  <s_t3>

    <div id="dkIndex">
      <a href="#dkBody">본문 바로가기</a>
    </div>

    <div id="dkWrap" class="wrap_skin">
      <div id="dkHead" role="banner" class="area_head">
        <h1 class="screen_out">[##_title_##]</h1>
        <button type="button" class="btn_cate">
          <span class="ico_skin ico_cate">카테고리</span>
        </button>

        <div class="area_search">
          <button type="button" class="btn_search">
            <span class="ico_search">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg>
            </span>
          </button>
          <s_search>
            <form action="#" method="get" class="frm_search box_search" onsubmit="[##_search_onclick_submit_##]">
              <fieldset>
                <legend class="screen_out">검색하기</legend>
                <label for="[##_search_name_##]" class="lab_search screen_out">블로그 내 검색</label>
                <input type="text" name="[##_search_name_##]" id="[##_search_name_##]" class="tf_search"
                  placeholder="grep -r &quot;keyword&quot;" value="[##_search_text_##]" data-value="[##_search_text_##]">
              </fieldset>
            </form>
          </s_search>
        </div>

        <div class="area_profile">
          <div class="terminal-prompt">
            <span class="prompt-symbol">~$</span>
            <span class="prompt-cmd">whoami</span>
          </div>
          <div class="tit_post">
            <a href="/" class="link_post">[##_title_##]</a>
          </div>
          <a href="/" class="thumb_profile">
            <img src="[##_image_##]" class="img_profile" alt="프로필사진">
          </a>
          <span class="txt_profile">[##_blogger_##]</span>
          <div class="typing-line">
            <span class="typing-prompt">~$</span>
            <span class="typing-text" id="typingText"></span>
            <span class="typing-cursor"></span>
          </div>
        </div>
      </div>

      <hr class="hide">

      <div id="dkContent" class="cont_skin" role="main">
        <div id="cMain">
          <div id="mFeature" class="wrap_sub">
            <div class="cont_sub">
              <div class="inner_sub">
                <div class="area_sub">
                  <div role="navigation" class="area_navi">
                    [##_category_list_##]
                    <a href="[##_guestbook_link_##]" class="link_guestbook">Guestbook</a>
                  </div>
                  <div class="wrap_etc">
                    <div class="col_aside left_side">
                      <s_sidebar>
                        <s_sidebar_element>
                          <s_rct_notice>
                            <div class="box_aside">
                              <strong class="tit_aside"><span class="aside-icon">&#9654;</span> Notice</strong>
                              <ul class="list_board">
                                <s_rct_notice_rep>
                                  <li><a href="[##_notice_rep_link_##]" class="link_board">[##_notice_rep_title_##]</a></li>
                                </s_rct_notice_rep>
                              </ul>
                            </div>
                          </s_rct_notice>
                        </s_sidebar_element>

                        <s_sidebar_element>
                          <div class="box_aside">
                            <strong class="tit_aside"><span class="aside-icon">&#9654;</span> Recent Posts</strong>
                            <ul class="list_board">
                              <s_rctps_rep>
                                <li><a href="[##_rctps_rep_link_##]" class="link_board">[##_rctps_rep_title_##]</a></li>
                              </s_rctps_rep>
                            </ul>
                          </div>
                        </s_sidebar_element>

                        <s_sidebar_element>
                          <div class="box_aside">
                            <strong class="tit_aside"><span class="aside-icon">&#9654;</span> Recent Comments</strong>
                            <ul class="list_board">
                              <s_rctrp_rep>
                                <li><a href="[##_rctrp_rep_link_##]" class="link_board">[##_rctrp_rep_desc_##]</a></li>
                              </s_rctrp_rep>
                            </ul>
                          </div>
                        </s_sidebar_element>

                        <s_sidebar_element>
                          <div class="box_aside">
                            <strong class="tit_aside"><span class="aside-icon">&#9654;</span> Link</strong>
                            <ul class="list_board">
                              <s_link_rep>
                                <li><a href="[##_link_url_##]" class="link_board" target="_blank">[##_link_site_##]</a></li>
                              </s_link_rep>
                            </ul>
                          </div>
                        </s_sidebar_element>
                      </s_sidebar>
                    </div>

                    <div class="col_aside right_side">
                      <s_sidebar>
                        <s_sidebar_element>
                          <div class="box_aside box_calendar">
                            [##_calendar_##]
                          </div>
                        </s_sidebar_element>

                        <s_sidebar_element>
                          <div class="box_aside box_tag">
                            <strong class="tit_aside"><span class="aside-icon">&#9654;</span> Tags</strong>
                            <ul class="list_tag">
                              <s_random_tags>
                                <li><a href="[##_tag_link_##]" class="link_tag [##_tag_class_##]">[##_tag_name_##]</a></li>
                              </s_random_tags>
                            </ul>
                            <a href="[##_taglog_link_##]" class="link_more">more</a>
                          </div>
                        </s_sidebar_element>

                        <s_sidebar_element>
                          <div class="box_aside box_archive">
                            <strong class="tit_aside"><span class="aside-icon">&#9654;</span> Archives</strong>
                            <ul class="list_keep">
                              <s_archive_rep>
                                <li><a href="[##_archive_rep_link_##]" class="link_keep">[##_archive_rep_date_##]</a>
                                  ([##_archive_rep_count_##])</li>
                              </s_archive_rep>
                            </ul>
                          </div>
                        </s_sidebar_element>

                        <s_sidebar_element>
                          <div class="box_aside box_visitor">
                            <dl class="list_visitor">
                              <dt>Today</dt>
                              <dd>[##_count_today_##]</dd>
                            </dl>
                            <dl class="list_total">
                              <dt>Total</dt>
                              <dd>[##_count_total_##]</dd>
                            </dl>
                          </div>
                        </s_sidebar_element>
                      </s_sidebar>
                    </div>
                  </div>
                </div>
              </div>
              <button type="button" class="btn_close">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>
              </button>

              <strong class="screen_out">관리 메뉴</strong>
              <ul class="list_control">
                <li><a href="[##_owner_url_##]/entry/post" class="link_ctrl link_write" title="글쓰기">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 20h9"></path><path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"></path></svg>
                </a></li>
                <li><a href="[##_guestbook_link_##]" class="link_ctrl link_memo" title="방명록">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
                </a></li>
                <li><a href="[##_rss_url_##]" class="link_ctrl link_rss" title="RSS">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg>
                </a></li>
                <li><a href="[##_owner_url_##]" class="link_ctrl link_manage" title="관리">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                </a></li>
              </ul>
            </div>
          </div>

          <div id="mArticle" class="article_skin">

            <s_list>
              <div class="list_title">
                <h2 id="dkBody" class="tit_skin"><span class="screen_out">목록</span><span
                    class="txt_title">[##_list_conform_##] <span class="count-badge">([##_list_count_##])</span></span></h2>
              </div>
            </s_list>

            <div class="index_title">
              <h2 class="tit_skin"><span class="txt_title">[##_title_##]</span></h2>
            </div>

            <s_article_rep>
              <s_index_article_rep>
                <div class="list_content">
                  <s_article_rep_thumbnail>
                    <a href="[##_article_rep_link_##]" class="thumbnail_post"
                      data-tiara-action-name="블로그글_클릭"
                      data-tiara-action-kind="ClickContent"
                      data-tiara-copy="[##_article_rep_title_##]"
                      data-tiara-image="[##_article_rep_thumbnail_url_##]"
                      data-tiara-click_url="[##_blog_link_##][##_article_rep_link_##]"
                      data-tiara-name="[##_article_rep_title_##]"
                      data-tiara-provider="[##_title_##]"
                      data-tiara-plink="[##_article_rep_link_##]"
                      data-tiara-id="[##_article_rep_link_##]"
                    ><img src="[##_article_rep_thumbnail_url_##]" alt="[##_article_rep_title_##]"></a>
                  </s_article_rep_thumbnail>
                  <a href="[##_article_rep_link_##]" class="link_post"
                    data-tiara-action-name="블로그글_클릭"
                    data-tiara-action-kind="ClickContent"
                    data-tiara-copy="[##_article_rep_title_##]"
                    data-tiara-image="[##_article_rep_thumbnail_url_##]"
                    data-tiara-click_url="[##_blog_link_##][##_article_rep_link_##]"
                    data-tiara-name="[##_article_rep_title_##]"
                    data-tiara-provider="[##_title_##]"
                    data-tiara-plink="[##_article_rep_link_##]"
                    data-tiara-id="[##_article_rep_link_##]"
                  >
                    <strong class="tit_post">[##_article_rep_title_##]</strong>
                    <p class="txt_post">[##_article_rep_summary_##]</p>
                  </a>
                  <div class="detail_info">
                    <a href="[##_article_rep_category_link_##]" class="link_cate">[##_article_rep_category_##]</a>
                    <span class="txt_bar"></span>
                    <span class="txt_date">[##_article_rep_date_##]</span>
                  </div>
                </div>
              </s_index_article_rep>

              <s_permalink_article_rep>
                <h2 id="dkBody" class="screen_out">[##_article_rep_title_##] 본문</h2>
                <div class="area_title">
                  <strong class="tit_category"><a
                      href="[##_article_rep_category_link_##]">[##_article_rep_category_##]</a></strong>
                  <h3 class="tit_post">[##_article_rep_title_##]</h3>
                  <span class="info_post">
                    <span class="post-meta-item">[##_article_rep_author_##]</span>
                    <span class="txt_bar"></span>
                    <span class="post-meta-item">[##_article_rep_date_##]</span>
                    [##_s_ad_isolation_##]
                  </span>
                </div>

                <div class="area_view" id="article-view">
                  [##_article_rep_desc_##]
                </div>
                <div class="area_etc">
                  <s_tag_label>
                    <dl class="list_tag">
                      <dt>Tag</dt>
                      <dd>[##_tag_label_rep_##]</dd>
                    </dl>
                  </s_tag_label>
                </div>

                <s_article_related>
                  <div class="area_related">
                    <strong class="tit_related">'[##_article_rep_category_##]' Related Articles</strong>
                    <ul class="list_related">
                      <s_article_related_rep>
                        <li class="[##_article_related_rep_type_##]">
                          <a href="[##_article_related_rep_link_##]" class="link_related">
                            <s_article_related_rep_thumbnail>
                              <span class="thumb_related">
                                <img src="[##_article_related_rep_thumbnail_link_##]"
                                  class="img_related" alt="">
                              </span>
                            </s_article_related_rep_thumbnail>
                            <span class="txt_related">[##_article_related_rep_title_##]</span>
                            <span class="date_related">[##_article_related_rep_date_##]</span>
                            <span class="frame_related"></span>
                          </a>
                        </li>
                      </s_article_related_rep>
                    </ul>
                    <a href="[##_article_rep_category_link_##]" class="link_more">more</a>
                  </div>
                </s_article_related>

                <div class="area_reply">
                  <s_rp>
                    [##_comment_group_##]
                  </s_rp>
                </div>
              </s_permalink_article_rep>
            </s_article_rep>

            <s_page_rep>
              <s_permalink_article_rep>
                <h2 id="dkBody" class="screen_out">[##_article_rep_title_##] 본문</h2>
                <div class="area_title">
                  <h3 class="tit_post">[##_article_rep_title_##]</h3>
                </div>
                <div class="area_view" id="article-view">
                  [##_article_rep_desc_##]
                </div>
              </s_permalink_article_rep>
            </s_page_rep>

            <s_notice_rep>
              <s_index_article_rep>
                <div class="list_content">
                  <a href="[##_notice_rep_link_##]" class="link_post"
                    data-tiara-action-name="공지목록글_클릭"
                    data-tiara-action-kind="ClickContent"
                    data-tiara-copy="[##_notice_rep_title_##]"
                    data-tiara-image="[##_notice_rep_thumbnail_url_##]"
                    data-tiara-click_url="[##_blog_link_##][##_notice_rep_link_##]"
                    data-tiara-name="[##_notice_rep_title_##]"
                    data-tiara-provider="[##_title_##]"
                    data-tiara-plink="[##_notice_rep_link_##]"
                    data-tiara-id="[##_notice_rep_link_##]"
                  >
                    <strong class="tit_post">[##_notice_rep_title_##]</strong>
                    <p class="txt_post">[##_notice_rep_summary_##]</p>
                  </a>
                  <div class="detail_info">
                    <a href="/notice" class="link_cate">공지사항</a>
                    <span class="txt_bar"></span> [##_notice_rep_date_##]
                  </div>
                </div>
              </s_index_article_rep>

              <s_permalink_article_rep>
                <h2 id="dkBody" class="screen_out">[##_notice_rep_title_##] 본문</h2>
                <div class="area_title">
                  <strong class="tit_category"><a href="/notice">공지사항</a></strong>
                  <h3 class="tit_post">[##_notice_rep_title_##]</h3>
                  <span class="info_post">[##_notice_rep_author_##]
                    <span class="txt_bar"></span>[##_notice_rep_date_##]</span>
                </div>
                <div class="area_view" id="article-view">
                  [##_notice_rep_desc_##]
                </div>
              </s_permalink_article_rep>
            </s_notice_rep>

            <s_article_protected>
              <s_index_article_rep>
                <div class="list_content">
                  <a href="[##_article_rep_link_##]" class="link_post"
                    data-tiara-action-name="블로그글_클릭"
                    data-tiara-action-kind="ClickContent"
                    data-tiara-copy="[##_article_rep_title_##]"
                    data-tiara-image="[##_article_rep_thumbnail_url_##]"
                    data-tiara-click_url="[##_blog_link_##][##_article_rep_link_##]"
                    data-tiara-name="[##_article_rep_title_##]"
                    data-tiara-provider="[##_title_##]"
                    data-tiara-plink="[##_article_rep_link_##]"
                    data-tiara-id="[##_article_rep_link_##]"
                  >
                    <strong class="tit_post">[##_article_rep_title_##]</strong>
                    <p class="txt_post">보호되어 있는 글입니다.</p>
                  </a>
                  <div class="detail_info">
                    <a href="[##_article_rep_category_link_##]" class="link_cate">[##_article_rep_category_##]</a>
                    <span class="txt_bar"></span> [##_article_rep_date_##]
                  </div>
                </div>
              </s_index_article_rep>

              <s_permalink_article_rep>
                <h2 id="dkBody" class="screen_out">[##_article_rep_title_##] 본문</h2>
                <div class="area_title">
                  <strong class="tit_category"><a
                      href="[##_article_rep_category_link_##]">[##_article_rep_category_##]</a></strong>
                  <h3 class="tit_post">[##_article_rep_title_##]</h3>
                  <span class="info_post">[##_article_rep_author_##]
                    <span class="txt_bar"></span>[##_article_rep_date_##]</span>
                </div>
                <form class="protected_form" onsubmit="[##_article_dissolve_##]">
                  <p>보호되어 있는 글입니다.<br>내용을 보시려면 비밀번호를 입력하세요.</p>
                  <input type="password" id="[##_article_password_##]" name="[##_article_password_##]" value=""
                    placeholder="비밀번호" />
                  <button type="submit">확인</button>
                </form>
              </s_permalink_article_rep>
            </s_article_protected>

            <s_tag>
              <h2 id="dkBody" class="tit_skin"><span class="txt_title">Tags</span></h2>
              <ul class="list_tag">
                <s_tag_rep>
                  <li><a href="[##_tag_link_##]" class="link_tag [##_tag_class_##]">[##_tag_name_##]</a></li>
                </s_tag_rep>
              </ul>
            </s_tag>

            <s_guest>
              [##_guestbook_group_##]
            </s_guest>

            <s_paging>
              <div class="area_paging">
                <span class="inner_paging">
                  <a [##_prev_page_##] class="btn_prev [##_no_more_prev_##]">
                    <span class="ico_prev">&larr;</span> Prev
                  </a>
                  <s_paging_rep>
                    <a [##_paging_rep_link_##] class="link_page">[##_paging_rep_link_num_##]</a>
                  </s_paging_rep>
                  <a [##_next_page_##] class="btn_next [##_no_more_next_##]">
                    Next <span class="ico_next">&rarr;</span>
                  </a>
                </span>
              </div>
            </s_paging>
          </div>
        </div>
      </div>

      <hr class="hide">

      <div id="dkFoot" role="contentinfo" class="area_foot">
        <small class="info_copyright">
          <span class="footer-prompt">$</span> echo "Powered by
          <a href="http://www.kakaocorp.com" class="emph_t" target="_blank">Kakao</a> // Designed by
          <a href="https://dyomyo.tistory.com" class="emph_t" target="_blank">Doyoucode</a>"
        </small>
      </div>
    </div>

    <!-- 스크롤 진행바 -->
    <div class="scroll-progress" id="scrollProgress"></div>

    <!-- 맨 위로 가기 버튼 -->
    <button type="button" class="btn-scroll-top" id="btnScrollTop" title="맨 위로">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="m18 15-6-6-6 6"/></svg>
    </button>

  </s_t3>
  <script src="./images/script.js"></script>
  <script>
    // 타이핑 애니메이션
    (function() {
      var el = document.getElementById('typingText');
      if (!el) return;

      var text = 'Do You Coding?';
      var i = 0;
      var deleting = false;
      var typeSpeed = 120;
      var deleteSpeed = 80;
      var pauseAfterType = 2000;
      var pauseAfterDelete = 800;

      function tick() {
        if (!deleting) {
          el.textContent = text.substring(0, i + 1);
          i++;
          if (i === text.length) {
            deleting = true;
            setTimeout(tick, pauseAfterType);
          } else {
            setTimeout(tick, typeSpeed);
          }
        } else {
          i--;
          el.textContent = text.substring(0, i);
          if (i === 0) {
            deleting = false;
            setTimeout(tick, pauseAfterDelete);
          } else {
            setTimeout(tick, deleteSpeed);
          }
        }
      }

      setTimeout(tick, 1000);
    })();

    // 홈(인덱스) 페이지 접속 시 자동 리다이렉트
    if (document.body.id === 'tt-body-index') {
      window.location.replace('/notice/95');
    }

    // 게시글 목차(TOC) 자동 생성
    (function() {
      var view = document.getElementById('article-view');
      if (!view) return;
      var bodyId = document.body.id;
      if (bodyId !== 'tt-body-page') return;

      var headings = view.querySelectorAll('h2, h3');
      if (headings.length < 2) return;

      var toc = document.createElement('div');
      toc.className = 'toc-wrapper';

      var title = document.createElement('div');
      title.className = 'toc-title';
      title.innerHTML = 'Table of Contents <span class="toc-toggle">&#9660;</span>';
      title.addEventListener('click', function() {
        toc.classList.toggle('collapsed');
      });

      var list = document.createElement('ul');
      list.className = 'toc-list';

      headings.forEach(function(h, i) {
        var id = 'toc-heading-' + i;
        h.id = id;
        var li = document.createElement('li');
        li.className = 'toc-' + h.tagName.toLowerCase();
        var a = document.createElement('a');
        a.href = '#' + id;
        a.textContent = h.textContent;
        li.appendChild(a);
        list.appendChild(li);
      });

      toc.appendChild(title);
      toc.appendChild(list);
      view.insertBefore(toc, view.firstChild);
    })();

    // 코드블럭: highlight.js 적용 + 언어 감지 + 복사 버튼 + wrapper
    (function() {
      var view = document.getElementById('article-view');
      if (!view) return;

      // highlight.js 실행 (Tistory data-ke-language 지원)
      if (typeof hljs !== 'undefined') {
        view.querySelectorAll('pre code').forEach(function(codeEl) {
          var pre = codeEl.parentElement;
          var keLang = pre && pre.getAttribute('data-ke-language');
          if (keLang && !codeEl.classList.contains('hljs')) {
            codeEl.className = 'language-' + keLang.toLowerCase();
          }
          if (!codeEl.classList.contains('hljs')) {
            hljs.highlightElement(codeEl);
          }
        });
        // code 없이 pre만 있는 경우
        view.querySelectorAll('pre').forEach(function(pre) {
          if (!pre.querySelector('code')) {
            var code = document.createElement('code');
            code.textContent = pre.textContent;
            var keLang = pre.getAttribute('data-ke-language');
            if (keLang) code.className = 'language-' + keLang.toLowerCase();
            pre.textContent = '';
            pre.appendChild(code);
            hljs.highlightElement(code);
          }
        });
      }

      // 언어 감지 맵: class명 → 표시 이름
      var langMap = {
        'java': 'Java', 'python': 'Python', 'py': 'Python',
        'javascript': 'JavaScript', 'js': 'JavaScript',
        'typescript': 'TypeScript', 'ts': 'TypeScript',
        'html': 'HTML', 'css': 'CSS', 'scss': 'SCSS',
        'json': 'JSON', 'xml': 'XML', 'yaml': 'YAML', 'yml': 'YAML',
        'sql': 'SQL', 'bash': 'Bash', 'sh': 'Shell', 'shell': 'Shell',
        'c': 'C', 'cpp': 'C++', 'csharp': 'C#', 'cs': 'C#',
        'go': 'Go', 'rust': 'Rust', 'ruby': 'Ruby', 'rb': 'Ruby',
        'php': 'PHP', 'swift': 'Swift', 'kotlin': 'Kotlin', 'kt': 'Kotlin',
        'dart': 'Dart', 'scala': 'Scala', 'r': 'R',
        'markdown': 'Markdown', 'md': 'Markdown',
        'dockerfile': 'Dockerfile', 'docker': 'Docker',
        'groovy': 'Groovy', 'gradle': 'Gradle',
        'properties': 'Properties', 'ini': 'INI', 'toml': 'TOML',
        'plaintext': 'Text', 'text': 'Text'
      };

      // 언어 색상 맵
      var langColors = {
        'Java': '#b07219', 'Python': '#3572A5', 'JavaScript': '#f1e05a',
        'TypeScript': '#3178c6', 'HTML': '#e34c26', 'CSS': '#563d7c',
        'JSON': '#292929', 'SQL': '#e38c00', 'Bash': '#89e051',
        'Shell': '#89e051', 'C': '#555555', 'C++': '#f34b7d',
        'C#': '#178600', 'Go': '#00ADD8', 'Rust': '#dea584',
        'Ruby': '#701516', 'PHP': '#4F5D95', 'Swift': '#F05138',
        'Kotlin': '#A97BFF', 'Dart': '#00B4AB', 'Scala': '#c22d40',
        'Dockerfile': '#384d54', 'Groovy': '#4298b8', 'Gradle': '#02303A',
        'SCSS': '#c6538c', 'XML': '#0060ac', 'YAML': '#cb171e',
        'Markdown': '#083fa1'
      };

      // 코드 내용으로 언어 추측
      function guessLang(code) {
        if (/public\s+(static\s+)?void\s+main|System\.out\.print|import\s+java\.|@(Override|Autowired|Service|Controller|Repository|Entity|Component)/.test(code)) return 'Java';
        if (/from\s+\w+\s+import|def\s+\w+\s*\(|print\s*\(|if\s+__name__/.test(code)) return 'Python';
        if (/console\.\w+\(|=>\s*\{|const\s+\w+\s*=|let\s+\w+\s*=|require\s*\(|module\.exports/.test(code)) return 'JavaScript';
        if (/interface\s+\w+|:\s*(string|number|boolean)\b|<\w+>/.test(code) && /const\s+|let\s+|=>\s*/.test(code)) return 'TypeScript';
        if (/<\/?[a-z][\s\S]*>/i.test(code) && /<(div|span|html|head|body|p|a|img|ul|li|table|form)\b/i.test(code)) return 'HTML';
        if (/\{[\s\S]*?[\w-]+\s*:\s*[\w#][\s\S]*?\}/.test(code) && /(color|margin|padding|display|font-size|background)\s*:/.test(code)) return 'CSS';
        if (/^\s*(SELECT|INSERT|UPDATE|DELETE|CREATE|ALTER|DROP|FROM|WHERE)\b/im.test(code)) return 'SQL';
        if (/^(#!\/?bin\/|apt-get|sudo|echo|grep|chmod|mkdir|cd\s|ls\s|curl\s|wget\s)/m.test(code)) return 'Bash';
        if (/^\s*\{[\s\S]*"[\w]+":\s*/m.test(code)) return 'JSON';
        if (/^\s*<\?xml|<\/?\w+:\w+/m.test(code)) return 'XML';
        if (/^(FROM|RUN|CMD|EXPOSE|COPY|ADD|ENTRYPOINT|WORKDIR)\s/m.test(code)) return 'Dockerfile';
        if (/^(spring|server|logging)\.\w+\s*=/m.test(code)) return 'Properties';
        if (/func\s+\w+|package\s+main|fmt\.Print/.test(code)) return 'Go';
        if (/fn\s+\w+|let\s+mut\s|println!\(|use\s+std::/.test(code)) return 'Rust';
        return '';
      }

      var pres = view.querySelectorAll('pre');
      pres.forEach(function(pre) {
        if (pre.closest('.code-block-wrapper')) return;

        var codeEl = pre.querySelector('code');
        var lang = '';

        // 1. class에서 언어 감지
        if (codeEl) {
          var cls = (codeEl.className || '') + ' ' + (pre.className || '');
          var m = cls.match(/(?:language-|lang-|hljs\s+)(\w+)/);
          if (m && langMap[m[1].toLowerCase()]) {
            lang = langMap[m[1].toLowerCase()];
          }
        }
        // 2. data-ke-language (Tistory 에디터)
        if (!lang && pre.getAttribute('data-ke-language')) {
          var keLang = pre.getAttribute('data-ke-language').toLowerCase();
          if (langMap[keLang]) lang = langMap[keLang];
        }
        // 3. 코드 내용으로 추측
        if (!lang) {
          var codeText = (codeEl || pre).textContent || '';
          lang = guessLang(codeText);
        }

        var dotColor = (lang && langColors[lang]) ? langColors[lang] : '#8b949e';
        var displayLang = lang || 'Code';

        // wrapper 생성
        var wrapper = document.createElement('div');
        wrapper.className = 'code-block-wrapper';

        // header
        var header = document.createElement('div');
        header.className = 'code-block-header';
        header.innerHTML =
          '<span class="code-lang-label">' +
            '<span class="code-lang-dot" style="background:' + dotColor + ';"></span>' +
            displayLang +
          '</span>' +
          '<button type="button" class="code-copy-btn">' +
            '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>' +
            '<span>Copy</span>' +
          '</button>';

        // 복사 기능
        var btn = header.querySelector('.code-copy-btn');
        btn.addEventListener('click', function() {
          var text = (codeEl || pre).textContent;
          navigator.clipboard.writeText(text).then(function() {
            btn.classList.add('copied');
            btn.querySelector('span').textContent = 'Copied!';
            btn.querySelector('svg').innerHTML = '<polyline points="20 6 9 17 4 12"></polyline>';
            setTimeout(function() {
              btn.classList.remove('copied');
              btn.querySelector('span').textContent = 'Copy';
              btn.querySelector('svg').innerHTML = '<rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>';
            }, 2000);
          });
        });

        pre.parentNode.insertBefore(wrapper, pre);
        wrapper.appendChild(header);
        wrapper.appendChild(pre);
      });
    })();

    // 스크롤 진행바 + 맨 위로 가기 버튼
    (function() {
      var progressBar = document.getElementById('scrollProgress');
      var btnTop = document.getElementById('btnScrollTop');
      if (!progressBar || !btnTop) return;

      // 게시글 페이지에서만 진행바 표시
      var isArticle = document.body.id === 'tt-body-page';

      window.addEventListener('scroll', function() {
        var scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        var docHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;

        // 진행바
        if (isArticle && docHeight > 0) {
          var progress = (scrollTop / docHeight) * 100;
          progressBar.style.width = progress + '%';
        }

        // 맨 위로 버튼: 300px 이상 스크롤 시 표시
        if (scrollTop > 300) {
          btnTop.classList.add('visible');
        } else {
          btnTop.classList.remove('visible');
        }
      });

      btnTop.addEventListener('click', function() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    })();
  </script>
</body>

</html>
