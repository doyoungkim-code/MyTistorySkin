<!doctype html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width">
  <title>[##_page_title_##]</title>
  <link rel="alternate" type="application/rss+xml" title="[##_title_##]" href="[##_rss_url_##]" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400;500;700&family=Ubuntu+Mono:wght@400;700&family=Fira+Code:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.19.0/js/md5.min.js"></script>

  <!-- Highlight.js (ì½”ë“œ ì‹ íƒìŠ¤ í•˜ì´ë¼ì´íŒ…) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

  <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" href="./images/font.css">
  <style>
    /* í™ˆí™”ë©´ ë°ìŠ¤í¬íƒ‘ ëª¨ë“œ: ë¸”ë¡œê·¸ ë³¸ë¬¸ ì „ì²´ ìˆ¨ê¹€ (ë°ìŠ¤í¬íƒ‘ ì˜¤ë²„ë ˆì´ê°€ ë®ìŒ) */
    #tt-body-index #dkWrap { visibility: hidden; }
    /* ì¸ë±ìŠ¤ í˜ì´ì§€: JS ì‹¤í–‰ ì „ì—ë„ ì¦‰ì‹œ ë°ìŠ¤í¬íƒ‘ í‘œì‹œ (flash ë°©ì§€) */
    #tt-body-index #dyoDesktop { display: flex; }

    <s_if_var_cover-image>.wrap_sub {
      background-image: url('[##_var_cover-image_##]');
    }
    </s_if_var_cover-image>
  </style>

  <!--[if lt IE 9]>
  <script src="//t1.daumcdn.net/tistory_admin/lib/jquery/jquery-1.12.4.min.js"></script>
  <![endif]-->
  <!--[if gte IE 9]><!-->
  <script src="//t1.daumcdn.net/tistory_admin/lib/jquery/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <!--<![endif]-->
</head>

<body id="[##_body_id_##]">
  <s_t3>

    <div id="dkIndex">
      <a href="#dkBody">ë³¸ë¬¸ ë°”ë¡œê°€ê¸°</a>
    </div>

    <div id="dkWrap" class="wrap_skin">
      <div id="dkHead" role="banner" class="area_head">
        <h1 class="screen_out">[##_title_##]</h1>
        <button type="button" class="btn_cate">
          <span class="ico_skin ico_cate">ì¹´í…Œê³ ë¦¬</span>
        </button>

        <div class="area_search">
          <button type="button" class="btn_search">
            <span class="ico_search">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg>
            </span>
          </button>
          <s_search>
            <form action="#" method="get" class="frm_search box_search" onsubmit="[##_search_onclick_submit_##]">
              <fieldset>
                <legend class="screen_out">ê²€ìƒ‰í•˜ê¸°</legend>
                <label for="[##_search_name_##]" class="lab_search screen_out">ë¸”ë¡œê·¸ ë‚´ ê²€ìƒ‰</label>
                <input type="text" name="[##_search_name_##]" id="[##_search_name_##]" class="tf_search"
                  placeholder="grep -r &quot;keyword&quot;" value="[##_search_text_##]" data-value="[##_search_text_##]">
              </fieldset>
            </form>
          </s_search>
        </div>

        <div class="area_profile">
          <div class="terminal-prompt">
            <span class="prompt-symbol">~$</span>
            <span class="prompt-cmd">whoami</span>
          </div>
          <div class="tit_post">
            <a href="/" class="link_post">[##_title_##]</a>
          </div>
          <a href="/category" class="thumb_profile">
            <img src="[##_image_##]" class="img_profile" alt="í”„ë¡œí•„ì‚¬ì§„">
          </a>
          <span class="txt_profile">[##_blogger_##]</span>
          <div class="typing-line">
            <span class="typing-prompt">~$</span>
            <span class="typing-text" id="typingText"></span>
            <span class="typing-cursor"></span>
          </div>
        </div>
      </div>

      <hr class="hide">

      <div id="dkContent" class="cont_skin" role="main">
        <div id="cMain">
          <div id="mFeature" class="wrap_sub">
            <div class="cont_sub">
              <div class="inner_sub">
                <div class="area_sub">
                  <div role="navigation" class="area_navi">
                    [##_category_list_##]
                    <a href="[##_guestbook_link_##]" class="link_guestbook">Guestbook</a>
                  </div>
                  <div class="wrap_etc">
                    <div class="col_aside left_side">
                      <s_sidebar>
                        <s_sidebar_element>
                          <s_rct_notice>
                            <div class="box_aside">
                              <strong class="tit_aside"><span class="aside-icon">&#9654;</span> Notice</strong>
                              <ul class="list_board">
                                <s_rct_notice_rep>
                                  <li><a href="[##_notice_rep_link_##]" class="link_board">[##_notice_rep_title_##]</a></li>
                                </s_rct_notice_rep>
                              </ul>
                            </div>
                          </s_rct_notice>
                        </s_sidebar_element>

                        <s_sidebar_element>
                          <div class="box_aside">
                            <strong class="tit_aside"><span class="aside-icon">&#9654;</span> Recent Posts</strong>
                            <ul class="list_board">
                              <s_rctps_rep>
                                <li><a href="[##_rctps_rep_link_##]" class="link_board">[##_rctps_rep_title_##]</a></li>
                              </s_rctps_rep>
                            </ul>
                          </div>
                        </s_sidebar_element>

                        <s_sidebar_element>
                          <div class="box_aside">
                            <strong class="tit_aside"><span class="aside-icon">&#9654;</span> Recent Comments</strong>
                            <ul class="list_board">
                              <s_rctrp_rep>
                                <li><a href="[##_rctrp_rep_link_##]" class="link_board">[##_rctrp_rep_desc_##]</a></li>
                              </s_rctrp_rep>
                            </ul>
                          </div>
                        </s_sidebar_element>

                        <s_sidebar_element>
                          <div class="box_aside">
                            <strong class="tit_aside"><span class="aside-icon">&#9654;</span> Link</strong>
                            <ul class="list_board">
                              <s_link_rep>
                                <li><a href="[##_link_url_##]" class="link_board" target="_blank">[##_link_site_##]</a></li>
                              </s_link_rep>
                            </ul>
                          </div>
                        </s_sidebar_element>
                      </s_sidebar>
                    </div>

                    <div class="col_aside right_side">
                      <s_sidebar>
                        <s_sidebar_element>
                          <div class="box_aside box_calendar">
                            [##_calendar_##]
                          </div>
                        </s_sidebar_element>

                        <s_sidebar_element>
                          <div class="box_aside box_tag">
                            <strong class="tit_aside"><span class="aside-icon">&#9654;</span> Tags</strong>
                            <ul class="list_tag">
                              <s_random_tags>
                                <li><a href="[##_tag_link_##]" class="link_tag [##_tag_class_##]">[##_tag_name_##]</a></li>
                              </s_random_tags>
                            </ul>
                            <a href="[##_taglog_link_##]" class="link_more">more</a>
                          </div>
                        </s_sidebar_element>

                        <s_sidebar_element>
                          <div class="box_aside box_archive">
                            <strong class="tit_aside"><span class="aside-icon">&#9654;</span> Archives</strong>
                            <ul class="list_keep">
                              <s_archive_rep>
                                <li><a href="[##_archive_rep_link_##]" class="link_keep">[##_archive_rep_date_##]</a>
                                  ([##_archive_rep_count_##])</li>
                              </s_archive_rep>
                            </ul>
                          </div>
                        </s_sidebar_element>

                        <s_sidebar_element>
                          <div class="box_aside box_visitor">
                            <dl class="list_visitor">
                              <dt>Today</dt>
                              <dd>[##_count_today_##]</dd>
                            </dl>
                            <dl class="list_total">
                              <dt>Total</dt>
                              <dd>[##_count_total_##]</dd>
                            </dl>
                          </div>
                        </s_sidebar_element>
                      </s_sidebar>
                    </div>
                  </div>
                </div>
              </div>
              <button type="button" class="btn_close">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>
              </button>

              <ul class="list_control">
                <li>
                  <button type="button" id="btnShell" title="Terminal">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line></svg>
                  </button>
                </li>
              </ul>
            </div>
          </div>

          <div id="mArticle" class="article_skin">

            <s_list>
              <div class="list_title">
                <h2 id="dkBody" class="tit_skin"><span class="screen_out">ëª©ë¡</span><span
                    class="txt_title">[##_list_conform_##] <span class="count-badge">([##_list_count_##])</span></span></h2>
              </div>
            </s_list>

            <div class="index_title">
              <h2 class="tit_skin"><span class="txt_title">[##_title_##]</span></h2>
            </div>

            <s_article_rep>
              <s_index_article_rep>
                <div class="list_content">
                  <s_article_rep_thumbnail>
                    <a href="[##_article_rep_link_##]" class="thumbnail_post"
                      data-tiara-action-name="ë¸”ë¡œê·¸ê¸€_í´ë¦­"
                      data-tiara-action-kind="ClickContent"
                      data-tiara-copy="[##_article_rep_title_##]"
                      data-tiara-image="[##_article_rep_thumbnail_url_##]"
                      data-tiara-click_url="[##_blog_link_##][##_article_rep_link_##]"
                      data-tiara-name="[##_article_rep_title_##]"
                      data-tiara-provider="[##_title_##]"
                      data-tiara-plink="[##_article_rep_link_##]"
                      data-tiara-id="[##_article_rep_link_##]"
                    ><img src="[##_article_rep_thumbnail_url_##]" alt="[##_article_rep_title_##]"></a>
                  </s_article_rep_thumbnail>
                  <a href="[##_article_rep_link_##]" class="link_post"
                    data-tiara-action-name="ë¸”ë¡œê·¸ê¸€_í´ë¦­"
                    data-tiara-action-kind="ClickContent"
                    data-tiara-copy="[##_article_rep_title_##]"
                    data-tiara-image="[##_article_rep_thumbnail_url_##]"
                    data-tiara-click_url="[##_blog_link_##][##_article_rep_link_##]"
                    data-tiara-name="[##_article_rep_title_##]"
                    data-tiara-provider="[##_title_##]"
                    data-tiara-plink="[##_article_rep_link_##]"
                    data-tiara-id="[##_article_rep_link_##]"
                  >
                    <strong class="tit_post">[##_article_rep_title_##]</strong>
                    <p class="txt_post">[##_article_rep_summary_##]</p>
                  </a>
                  <div class="detail_info">
                    <a href="[##_article_rep_category_link_##]" class="link_cate">[##_article_rep_category_##]</a>
                    <span class="txt_bar"></span>
                    <span class="txt_date">[##_article_rep_date_##]</span>
                  </div>
                </div>
              </s_index_article_rep>

              <s_permalink_article_rep>
                <h2 id="dkBody" class="screen_out">[##_article_rep_title_##] ë³¸ë¬¸</h2>
                <div class="area_title">
                  <strong class="tit_category"><a
                      href="[##_article_rep_category_link_##]">[##_article_rep_category_##]</a></strong>
                  <h3 class="tit_post">[##_article_rep_title_##]</h3>
                  <span class="info_post">
                    <span class="post-meta-item">[##_article_rep_author_##]</span>
                    <span class="txt_bar"></span>
                    <span class="post-meta-item">[##_article_rep_date_##]</span>
                    [##_s_ad_isolation_##]
                  </span>
                </div>

                <div class="area_view" id="article-view">
                  [##_article_rep_desc_##]
                </div>
                <div class="area_etc">
                  <s_tag_label>
                    <dl class="list_tag">
                      <dt>Tag</dt>
                      <dd>[##_tag_label_rep_##]</dd>
                    </dl>
                  </s_tag_label>
                </div>

                <s_article_related>
                  <div class="area_related">
                    <strong class="tit_related">'[##_article_rep_category_##]' Related Articles</strong>
                    <ul class="list_related">
                      <s_article_related_rep>
                        <li class="[##_article_related_rep_type_##]">
                          <a href="[##_article_related_rep_link_##]" class="link_related">
                            <s_article_related_rep_thumbnail>
                              <span class="thumb_related">
                                <img src="[##_article_related_rep_thumbnail_link_##]"
                                  class="img_related" alt="">
                              </span>
                            </s_article_related_rep_thumbnail>
                            <span class="txt_related">[##_article_related_rep_title_##]</span>
                            <span class="date_related">[##_article_related_rep_date_##]</span>
                            <span class="frame_related"></span>
                          </a>
                        </li>
                      </s_article_related_rep>
                    </ul>
                    <a href="[##_article_rep_category_link_##]" class="link_more">more</a>
                  </div>
                </s_article_related>

                <div class="area_reply">
                  <s_rp>
                    [##_comment_group_##]
                  </s_rp>
                </div>
              </s_permalink_article_rep>
            </s_article_rep>

            <s_page_rep>
              <s_permalink_article_rep>
                <h2 id="dkBody" class="screen_out">[##_article_rep_title_##] ë³¸ë¬¸</h2>
                <div class="area_title">
                  <h3 class="tit_post">[##_article_rep_title_##]</h3>
                </div>
                <div class="area_view" id="article-view">
                  [##_article_rep_desc_##]
                </div>
              </s_permalink_article_rep>
            </s_page_rep>

            <s_notice_rep>
              <s_index_article_rep>
                <div class="list_content">
                  <a href="[##_notice_rep_link_##]" class="link_post"
                    data-tiara-action-name="ê³µì§€ëª©ë¡ê¸€_í´ë¦­"
                    data-tiara-action-kind="ClickContent"
                    data-tiara-copy="[##_notice_rep_title_##]"
                    data-tiara-image="[##_notice_rep_thumbnail_url_##]"
                    data-tiara-click_url="[##_blog_link_##][##_notice_rep_link_##]"
                    data-tiara-name="[##_notice_rep_title_##]"
                    data-tiara-provider="[##_title_##]"
                    data-tiara-plink="[##_notice_rep_link_##]"
                    data-tiara-id="[##_notice_rep_link_##]"
                  >
                    <strong class="tit_post">[##_notice_rep_title_##]</strong>
                    <p class="txt_post">[##_notice_rep_summary_##]</p>
                  </a>
                  <div class="detail_info">
                    <a href="/notice" class="link_cate">ê³µì§€ì‚¬í•­</a>
                    <span class="txt_bar"></span> [##_notice_rep_date_##]
                  </div>
                </div>
              </s_index_article_rep>

              <s_permalink_article_rep>
                <h2 id="dkBody" class="screen_out">[##_notice_rep_title_##] ë³¸ë¬¸</h2>
                <div class="area_title">
                  <strong class="tit_category"><a href="/notice">ê³µì§€ì‚¬í•­</a></strong>
                  <h3 class="tit_post">[##_notice_rep_title_##]</h3>
                  <span class="info_post">[##_notice_rep_author_##]
                    <span class="txt_bar"></span>[##_notice_rep_date_##]</span>
                </div>
                <div class="area_view" id="article-view">
                  [##_notice_rep_desc_##]
                </div>
              </s_permalink_article_rep>
            </s_notice_rep>

            <s_article_protected>
              <s_index_article_rep>
                <div class="list_content">
                  <a href="[##_article_rep_link_##]" class="link_post"
                    data-tiara-action-name="ë¸”ë¡œê·¸ê¸€_í´ë¦­"
                    data-tiara-action-kind="ClickContent"
                    data-tiara-copy="[##_article_rep_title_##]"
                    data-tiara-image="[##_article_rep_thumbnail_url_##]"
                    data-tiara-click_url="[##_blog_link_##][##_article_rep_link_##]"
                    data-tiara-name="[##_article_rep_title_##]"
                    data-tiara-provider="[##_title_##]"
                    data-tiara-plink="[##_article_rep_link_##]"
                    data-tiara-id="[##_article_rep_link_##]"
                  >
                    <strong class="tit_post">[##_article_rep_title_##]</strong>
                    <p class="txt_post">ë³´í˜¸ë˜ì–´ ìˆëŠ” ê¸€ì…ë‹ˆë‹¤.</p>
                  </a>
                  <div class="detail_info">
                    <a href="[##_article_rep_category_link_##]" class="link_cate">[##_article_rep_category_##]</a>
                    <span class="txt_bar"></span> [##_article_rep_date_##]
                  </div>
                </div>
              </s_index_article_rep>

              <s_permalink_article_rep>
                <h2 id="dkBody" class="screen_out">[##_article_rep_title_##] ë³¸ë¬¸</h2>
                <div class="area_title">
                  <strong class="tit_category"><a
                      href="[##_article_rep_category_link_##]">[##_article_rep_category_##]</a></strong>
                  <h3 class="tit_post">[##_article_rep_title_##]</h3>
                  <span class="info_post">[##_article_rep_author_##]
                    <span class="txt_bar"></span>[##_article_rep_date_##]</span>
                </div>
                <form class="protected_form" onsubmit="[##_article_dissolve_##]">
                  <p>ë³´í˜¸ë˜ì–´ ìˆëŠ” ê¸€ì…ë‹ˆë‹¤.<br>ë‚´ìš©ì„ ë³´ì‹œë ¤ë©´ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.</p>
                  <input type="password" id="[##_article_password_##]" name="[##_article_password_##]" value=""
                    placeholder="ë¹„ë°€ë²ˆí˜¸" />
                  <button type="submit">í™•ì¸</button>
                </form>
              </s_permalink_article_rep>
            </s_article_protected>

            <s_tag>
              <h2 id="dkBody" class="tit_skin"><span class="txt_title">Tags</span></h2>
              <ul class="list_tag">
                <s_tag_rep>
                  <li><a href="[##_tag_link_##]" class="link_tag [##_tag_class_##]">[##_tag_name_##]</a></li>
                </s_tag_rep>
              </ul>
            </s_tag>

            <s_guest>
              [##_guestbook_group_##]
            </s_guest>

            <s_paging>
              <div class="area_paging">
                <span class="inner_paging">
                  <a [##_prev_page_##] class="btn_prev [##_no_more_prev_##]">
                    <span class="ico_prev">&larr;</span> Prev
                  </a>
                  <s_paging_rep>
                    <a [##_paging_rep_link_##] class="link_page">[##_paging_rep_link_num_##]</a>
                  </s_paging_rep>
                  <a [##_next_page_##] class="btn_next [##_no_more_next_##]">
                    Next <span class="ico_next">&rarr;</span>
                  </a>
                </span>
              </div>
            </s_paging>
          </div>
        </div>
      </div>

      <hr class="hide">

      <div id="dkFoot" role="contentinfo" class="area_foot">
        <small class="info_copyright">
          <span class="footer-prompt">$</span> echo "Powered by
          <a href="http://www.kakaocorp.com" class="emph_t" target="_blank">Kakao</a> // Designed by
          <a href="https://dyomyo.tistory.com" class="emph_t" target="_blank">Doyoucode</a>"
        </small>
      </div>
    </div>

    <!-- ìŠ¤í¬ë¡¤ ì§„í–‰ë°” -->
    <div class="scroll-progress" id="scrollProgress"></div>

    <!-- ë§¨ ìœ„ë¡œ ê°€ê¸° ë²„íŠ¼ -->
    <button type="button" class="btn-scroll-top" id="btnScrollTop" title="ë§¨ ìœ„ë¡œ">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="m18 15-6-6-6 6"/></svg>
    </button>

    <!-- ë°ìŠ¤í¬íƒ‘ í™ˆí™”ë©´ (ì¸ë±ìŠ¤ í˜ì´ì§€ ì „ìš©) -->
    <div class="dyo-desktop" id="dyoDesktop">
      <div class="dyo-desktop-grid">

        <!-- README ì•„ì´ì½˜ -->
        <div class="dyo-desktop-icon" id="desktopIconReadme" title="README">
          <div class="dyo-di-wrap">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" fill="#3b82f6" opacity="0.15"/>
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" fill="none" stroke="#3b82f6" stroke-width="1.5" stroke-linejoin="round"/>
              <polyline points="14 2 14 8 20 8" fill="none" stroke="#3b82f6" stroke-width="1.5" stroke-linejoin="round"/>
              <line x1="8" y1="12" x2="16" y2="12" stroke="#3b82f6" stroke-width="1.4"/>
              <line x1="8" y1="15" x2="16" y2="15" stroke="#3b82f6" stroke-width="1.4" opacity="0.65"/>
              <line x1="8" y1="18" x2="13" y2="18" stroke="#3b82f6" stroke-width="1.4" opacity="0.4"/>
            </svg>
          </div>
          <span class="dyo-di-label">README</span>
        </div>

        <!-- Terminal ì•„ì´ì½˜ (Windows CMD ìŠ¤íƒ€ì¼) -->
        <div class="dyo-desktop-icon" id="desktopIconShell" title="Terminal">
          <div class="dyo-di-wrap">
            <!-- CMD: > prompt + _ cursor -->
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="square" stroke-linejoin="miter" stroke-width="2.5">
              <polyline points="4 8 9 12 4 16"></polyline>
              <line x1="12" y1="16" x2="20" y2="16"></line>
            </svg>
          </div>
          <span class="dyo-di-label">Command Prompt</span>
        </div>

        <!-- Dev Blog ì•„ì´ì½˜ (Tistory) -->
        <div class="dyo-desktop-icon" id="desktopIconBlog" title="Dev Blog">
          <div class="dyo-di-wrap">
            <!-- Tistory T ë¡œê³  -->
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <rect x="3.5" y="6" width="17" height="3.2" rx="1.6" fill="white"/>
              <rect x="10.4" y="8.8" width="3.2" height="10.2" rx="1.6" fill="white"/>
            </svg>
          </div>
          <span class="dyo-di-label">Dev Blog</span>
        </div>

        <!-- GitHub ì•„ì´ì½˜ -->
        <div class="dyo-desktop-icon" id="desktopIconGithub" title="GitHub">
          <div class="dyo-di-wrap">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 2C6.477 2 2 6.477 2 12c0 4.42 2.865 8.17 6.839 9.49.5.092.682-.217.682-.482 0-.237-.008-.866-.013-1.7-2.782.604-3.369-1.34-3.369-1.34-.454-1.156-1.11-1.464-1.11-1.464-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.269 2.75 1.025A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.294 2.747-1.025 2.747-1.025.546 1.377.203 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.566 4.935.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.741 0 .267.18.578.688.48C19.138 20.167 22 16.418 22 12c0-5.523-4.477-10-10-10z"/>
            </svg>
          </div>
          <span class="dyo-di-label">GitHub</span>
        </div>

        <!-- Guestbook ì±„íŒ… ì•„ì´ì½˜ -->
        <div class="dyo-desktop-icon" id="desktopIconGuest" title="Guestbook">
          <div class="dyo-di-wrap">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" fill="#FEE500" opacity="0.25" stroke="#c8a800" stroke-width="1.5" stroke-linejoin="round"/>
              <circle cx="8.5" cy="11" r="1.2" fill="#c8a800"/>
              <circle cx="12" cy="11" r="1.2" fill="#c8a800"/>
              <circle cx="15.5" cy="11" r="1.2" fill="#c8a800"/>
            </svg>
          </div>
          <span class="dyo-di-label">Guestbook</span>
        </div>

        <!-- File Explorer ì•„ì´ì½˜ -->
        <div class="dyo-desktop-icon" id="desktopIconExplorer" title="File Explorer">
          <div class="dyo-di-wrap">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M3 7a2 2 0 0 1 2-2h4l2 2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" fill="rgba(255,255,255,0.35)" stroke="#fff" stroke-width="1.5" stroke-linejoin="round"/>
              <path d="M3 11h18" stroke="#fff" stroke-width="1.3"/>
            </svg>
          </div>
          <span class="dyo-di-label">File Explorer</span>
        </div>

      </div>

      <!-- í•˜ë‹¨ íƒœìŠ¤í¬ë°” -->
      <div class="dyo-desktop-bar">
        <span class="dyo-bar-left">guest@doyoucode:~$</span>
        <div class="dyo-bar-center" id="dyoBarCenter"></div>
        <div class="dyo-bar-right">
          <span id="desktopClock">00:00</span>
          <span id="desktopDate">----/--/--</span>
        </div>
      </div>
    </div>

    <!-- ê°€ìƒ ë¸Œë¼ìš°ì € ì°½ (ë“œë˜ê·¸ ê°€ëŠ¥) -->
    <div class="dyo-browser-win" id="dyoBrowserWin">
      <div class="dyo-browser-titlebar" id="dyoBrowserTitlebar">
        <span class="dyo-term-dot red"    id="dyoBrowserClose" title="ë‹«ê¸°"></span>
        <span class="dyo-term-dot yellow" id="dyoBrowserMin"   title="ìµœì†Œí™”"></span>
        <span class="dyo-term-dot green"  id="dyoBrowserMax"   title="ìµœëŒ€í™”"></span>
        <div class="dyo-browser-navarea">
          <button class="dyo-browser-navbtn" id="dyoBrowserBack"   title="ë’¤ë¡œ">&#8592;</button>
          <button class="dyo-browser-navbtn" id="dyoBrowserFwd"    title="ì•ìœ¼ë¡œ">&#8594;</button>
          <div class="dyo-browser-urlbar" id="dyoBrowserUrl">about:blank</div>
          <button class="dyo-browser-navbtn" id="dyoBrowserReload" title="ìƒˆë¡œê³ ì¹¨">&#8635;</button>
        </div>
      </div>
      <iframe class="dyo-browser-frame" id="dyoBrowserFrame" src="about:blank"></iframe>
      <div class="dyo-brs-handle n"  data-dir="n"></div>
      <div class="dyo-brs-handle ne" data-dir="ne"></div>
      <div class="dyo-brs-handle e"  data-dir="e"></div>
      <div class="dyo-brs-handle se" data-dir="se"></div>
      <div class="dyo-brs-handle s"  data-dir="s"></div>
      <div class="dyo-brs-handle sw" data-dir="sw"></div>
      <div class="dyo-brs-handle w"  data-dir="w"></div>
      <div class="dyo-brs-handle nw" data-dir="nw"></div>
    </div>

    <!-- ê°€ìƒ í„°ë¯¸ë„ ì°½ (ë“œë˜ê·¸ ê°€ëŠ¥) -->
    <div class="dyo-shell-win" id="dyoShellWin">
      <div class="dyo-shell-titlebar" id="dyoShellTitlebar">
        <span class="dyo-term-dot red"    id="dyoShellClose"  title="ë‹«ê¸°"></span>
        <span class="dyo-term-dot yellow" id="dyoShellMin"    title="ìµœì†Œí™”"></span>
        <span class="dyo-term-dot green"  id="dyoShellMax"    title="ìµœëŒ€í™”"></span>
        <span class="dyo-shell-title">guest@blog: ~</span>
      </div>
      <div class="dyo-term-body" id="termOutput">
        <div class="dyo-term-banner">â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  Welcome to doyoucode's terminal       â•‘
â•‘  Type '<span class="tr-cmd">help</span>' to see available commands â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</div>
        <form class="dyo-term-input-row" id="dyoTermForm" onsubmit="return false;">
          <span class="dyo-term-prompt">[doyoucode@guest ~]$&nbsp;</span>
          <input class="dyo-term-input" id="termInput" type="text"
            autocomplete="off" spellcheck="false"
            placeholder="type a command...">
        </form>
      </div>
      <div class="dyo-brs-handle n"  data-dir="n"></div>
      <div class="dyo-brs-handle ne" data-dir="ne"></div>
      <div class="dyo-brs-handle e"  data-dir="e"></div>
      <div class="dyo-brs-handle se" data-dir="se"></div>
      <div class="dyo-brs-handle s"  data-dir="s"></div>
      <div class="dyo-brs-handle sw" data-dir="sw"></div>
      <div class="dyo-brs-handle w"  data-dir="w"></div>
      <div class="dyo-brs-handle nw" data-dir="nw"></div>
    </div>

    <!-- README ì°½ -->
    <div class="dyo-shell-win" id="dyoReadmeWin">
      <div class="dyo-shell-titlebar" id="dyoReadmeTitlebar">
        <span class="dyo-term-dot red"    id="dyoReadmeClose" title="ë‹«ê¸°"></span>
        <span class="dyo-term-dot yellow" id="dyoReadmeMin"   title="ìµœì†Œí™”"></span>
        <span class="dyo-term-dot green"  id="dyoReadmeMax"   title="ìµœëŒ€í™”"></span>
        <span class="dyo-shell-title">README.md</span>
      </div>
      <div class="dyo-term-body" style="overflow-y:auto;padding:20px 24px">
        <div style="font-family:'Noto Sans KR','Apple SD Gothic Neo',-apple-system,sans-serif;font-size:13px;line-height:1.85;color:#abb2bf">

          <div style="color:#e6e6e6;font-size:15px;font-weight:700;margin-bottom:2px"># doyoucode Â· README</div>
          <div style="color:#5c6370;font-size:12px;margin-bottom:16px">ê°œë°œì í…Œë§ˆì˜ Tistory ë¸”ë¡œê·¸ Â· ë°ìŠ¤í¬íƒ‘ UI + í„°ë¯¸ë„ ì¸í„°í˜ì´ìŠ¤</div>

          <div style="background:#1c2330;border:1px solid #e5c07b44;border-left:3px solid #e5c07b;border-radius:7px;padding:11px 14px;margin-bottom:22px;display:flex;align-items:flex-start;gap:10px">
            <span style="font-size:18px;flex-shrink:0;line-height:1.3">ğŸ’¡</span>
            <div>
              <div style="color:#e5c07b;font-weight:700;font-size:12px;letter-spacing:0.4px;margin-bottom:4px">TIP â€” ì „ì²´í™”ë©´ ëª¨ë“œ</div>
              <div style="color:#8b949e;font-size:12px;line-height:1.65">ìš°í•˜ë‹¨ ê´€ë¦¬ë°”ì˜ <kbd style="background:#0d1117;border:1px solid #484f58;border-bottom:2px solid #30363d;border-radius:4px;padding:1px 6px;color:#c9d1d9;font-family:'Fira Code',monospace;font-size:11px">â›¶</kbd> ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ì „ì²´í™”ë©´ ëª¨ë“œë¡œ ì „í™˜ë©ë‹ˆë‹¤.<br>ë”ìš± ì‹¤ê°ë‚˜ëŠ” ë°ìŠ¤í¬íƒ‘ í™˜ê²½ì„ ê²½í—˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤! ğŸ–¥ï¸</div>
            </div>
          </div>

          <div style="color:#98c379;font-weight:600;margin-bottom:8px">## ë°ìŠ¤í¬íƒ‘ ì•„ì´ì½˜</div>
          <div style="display:grid;grid-template-columns:auto 1fr;gap:2px 12px;padding-left:12px;margin-bottom:22px">
            <span style="color:#61afef">README</span><span>ì´ ë„ì›€ë§ í˜ì´ì§€</span>
            <span style="color:#61afef">Terminal</span><span>í„°ë¯¸ë„ ì°½ ì—´ê¸°</span>
            <span style="color:#61afef">Dev Blog</span><span>ì „ì²´ í¬ìŠ¤íŠ¸ ë³´ê¸° (ë¸Œë¼ìš°ì € ì°½)</span>
            <span style="color:#61afef">Guestbook</span><span>ë°©ëª…ë¡ ì±„íŒ… / ë©”ì‹œì§€ ë‚¨ê¸°ê¸°</span>
            <span style="color:#61afef">GitHub</span><span>GitHub í”„ë¡œí•„ ìƒˆ íƒ­ìœ¼ë¡œ ì—´ê¸°</span>
          </div>

          <div style="color:#98c379;font-weight:600;margin-bottom:8px">## í„°ë¯¸ë„ ëª…ë ¹ì–´</div>
          <div style="display:grid;grid-template-columns:auto 1fr;gap:2px 12px;padding-left:12px;margin-bottom:22px">
            <span style="color:#61afef">help</span><span>ëª…ë ¹ì–´ ëª©ë¡ ë³´ê¸°</span>
            <span style="color:#61afef">about / whoami</span><span>ë¸”ë¡œê·¸ ì†Œê°œ</span>
            <span style="color:#61afef">ls</span><span>ì¹´í…Œê³ ë¦¬ ëª©ë¡</span>
            <span style="color:#61afef">cd [ì¹´í…Œê³ ë¦¬]</span><span>ì¹´í…Œê³ ë¦¬ë¡œ ì´ë™</span>
            <span style="color:#61afef">search [ê²€ìƒ‰ì–´]</span><span>í¬ìŠ¤íŠ¸ ê²€ìƒ‰</span>
            <span style="color:#61afef">date</span><span>í˜„ì¬ ë‚ ì§œ/ì‹œê°„</span>
            <span style="color:#61afef">echo [í…ìŠ¤íŠ¸]</span><span>í…ìŠ¤íŠ¸ ì¶œë ¥</span>
            <span style="color:#61afef">github</span><span>GitHub ì—´ê¸°</span>
            <span style="color:#61afef">clear</span><span>í„°ë¯¸ë„ ì´ˆê¸°í™”</span>
            <span style="color:#61afef">exit</span><span>í„°ë¯¸ë„ ì°½ ë‹«ê¸°</span>
          </div>

          <div style="color:#98c379;font-weight:600;margin-bottom:8px">## ë¸Œë¼ìš°ì € ì°½</div>
          <div style="padding-left:12px;margin-bottom:22px">
            <div>ë“œë˜ê·¸ë¡œ ì´ë™ / ëª¨ì„œë¦¬ë¡œ í¬ê¸° ì¡°ì ˆ</div>
            <div>ë‹«ê¸°(ë¹¨ê°•) Â· ìµœì†Œí™”(ë…¸ë‘) Â· ìµœëŒ€í™”(ì´ˆë¡)</div>
            <div>ë’¤ë¡œ Â· ì•ìœ¼ë¡œ Â· ìƒˆë¡œê³ ì¹¨ ì§€ì›</div>
          </div>

          <div style="color:#98c379;font-weight:600;margin-bottom:8px">## Guestbook <span style="color:#5c6370;font-weight:400;font-size:12px">(ë°©ëª…ë¡ ì±„íŒ…)</span></div>
          <div style="padding-left:12px;margin-bottom:22px">
            <div>ì¹´ì¹´ì˜¤í†¡ ìŠ¤íƒ€ì¼ ì±„íŒ… ì¸í„°í˜ì´ìŠ¤</div>
            <div>ë°©ë¬¸ì ë©”ì‹œì§€ â†’ ì˜¤ë¥¸ìª½ ë…¸ë€ ë§í’ì„ </div>
            <div>ê´€ë¦¬ì ë‹µê¸€ â†’ ì™¼ìª½ í° ë§í’ì„ </div>
            <div>ì´ë¦„ + ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í›„ ë©”ì‹œì§€ ì „ì†¡</div>
            <div style="color:#5c6370">Ctrl+Enter ë¡œ ë¹ ë¥¸ ì „ì†¡</div>
          </div>

          <div style="color:#98c379;font-weight:600;margin-bottom:8px">## ê´€ë¦¬ì ë©”ë‰´ <span style="color:#5c6370;font-weight:400;font-size:12px">(ë©”ì¸í™”ë©´ ìš°í•˜ë‹¨)</span></div>
          <div style="display:grid;grid-template-columns:auto 1fr;gap:2px 12px;padding-left:12px">
            <span style="color:#61afef">ê¸€ì“°ê¸°</span><span>ìƒˆ í¬ìŠ¤íŠ¸ ì‘ì„±</span>
            <span style="color:#61afef">ê´€ë¦¬</span><span>Tistory ê´€ë¦¬ í˜ì´ì§€</span>
          </div>

        </div>
      </div>
      <div class="dyo-brs-handle n"  data-dir="n"></div>
      <div class="dyo-brs-handle ne" data-dir="ne"></div>
      <div class="dyo-brs-handle e"  data-dir="e"></div>
      <div class="dyo-brs-handle se" data-dir="se"></div>
      <div class="dyo-brs-handle s"  data-dir="s"></div>
      <div class="dyo-brs-handle sw" data-dir="sw"></div>
      <div class="dyo-brs-handle w"  data-dir="w"></div>
      <div class="dyo-brs-handle nw" data-dir="nw"></div>
    </div>

    <!-- Guestbook ì±„íŒ…ì°½ -->
    <div class="dyo-shell-win" id="dyoGuestWin">
      <div class="dyo-shell-titlebar" id="dyoGuestTitlebar">
        <span class="dyo-term-dot red"    id="dyoGuestClose" title="ë‹«ê¸°"></span>
        <span class="dyo-term-dot yellow" id="dyoGuestMin"   title="ìµœì†Œí™”"></span>
        <span class="dyo-term-dot green"  id="dyoGuestMax"   title="ìµœëŒ€í™”"></span>
        <span class="dyo-shell-title">Guestbook</span>
      </div>
      <div class="dyo-guest-kakaohdr">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" fill="#3b1e08" opacity="0.6"/></svg>
        <span>ë°©ëª…ë¡</span>
        <button class="dyo-guest-reload" id="dyoGuestReload" title="ìƒˆë¡œê³ ì¹¨">â†º</button>
      </div>
      <div class="dyo-guest-body" id="dyoGuestBody">
        <div class="dyo-guest-loading" id="dyoGuestLoading">
          <div class="dyo-guest-spinner"></div>
          <span>ë°©ëª…ë¡ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</span>
        </div>
        <div class="dyo-guest-chat" id="dyoGuestChat" style="display:none"></div>
      </div>
      <div class="dyo-guest-footer" id="dyoGuestFooter">
        <div class="dyo-guest-meta" id="dyoGuestMeta">
          <input type="text"     class="dyo-guest-finput" id="dyoGuestIName" placeholder="ì´ë¦„" maxlength="20" autocomplete="off">
          <input type="password" class="dyo-guest-finput" id="dyoGuestIPw"   placeholder="ë¹„ë°€ë²ˆí˜¸" maxlength="40" autocomplete="off">
        </div>
        <div class="dyo-guest-compose">
          <textarea class="dyo-guest-textarea" id="dyoGuestTextarea" placeholder="ë°©ëª…ë¡ì„ ë‚¨ê²¨ë³´ì„¸ìš”â€¦" maxlength="500" rows="2"></textarea>
          <button class="dyo-guest-sendbtn" id="dyoGuestSend" title="ì „ì†¡ (Ctrl+Enter)">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
          </button>
        </div>
      </div>
      <div class="dyo-brs-handle n"  data-dir="n"></div>
      <div class="dyo-brs-handle ne" data-dir="ne"></div>
      <div class="dyo-brs-handle e"  data-dir="e"></div>
      <div class="dyo-brs-handle se" data-dir="se"></div>
      <div class="dyo-brs-handle s"  data-dir="s"></div>
      <div class="dyo-brs-handle sw" data-dir="sw"></div>
      <div class="dyo-brs-handle w"  data-dir="w"></div>
      <div class="dyo-brs-handle nw" data-dir="nw"></div>
    </div>

    <!-- ê´€ë¦¬ì ë¹ ë¥¸ ë©”ë‰´ë°” -->
    <div class="dyo-admin-bar">
      <a href="/manage/newpost/?type=post&returnURL=%2Fmanage%2Fposts%2F" class="dyo-admin-btn" title="ê¸€ì“°ê¸°">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
          <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
        </svg>
      </a>
      <a href="/manage" class="dyo-admin-btn" title="ê´€ë¦¬">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="3"/>
          <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/>
        </svg>
      </a>
      <div class="dyo-admin-sep"></div>
      <button class="dyo-admin-btn" id="btnFullscreen" title="ì „ì²´í™”ë©´">
        <!-- ì „ì²´í™”ë©´ ì§„ì… ì•„ì´ì½˜ -->
        <svg id="fsIconExpand" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/>
        </svg>
        <!-- ì „ì²´í™”ë©´ ì¢…ë£Œ ì•„ì´ì½˜ (ìˆ¨ê¹€) -->
        <svg id="fsIconCompress" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none">
          <path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"/>
        </svg>
      </button>
    </div>

    <!-- ì™¸ë¶€ ë§í¬ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ -->
    <div class="dyo-confirm-overlay" id="dyoConfirmOverlay">
      <div class="dyo-confirm-box">
        <div class="dyo-confirm-icon">ğŸ”—</div>
        <div class="dyo-confirm-msg">ì™¸ë¶€ ë§í¬ë¡œ ì´ë™í•©ë‹ˆë‹¤.<br>ìƒˆ íƒ­ì—ì„œ ì—¬ì‹œê² ìŠµë‹ˆê¹Œ?</div>
        <div class="dyo-confirm-url" id="dyoConfirmUrl"></div>
        <div class="dyo-confirm-btns">
          <button class="dyo-confirm-cancel" id="dyoConfirmCancel">ì·¨ì†Œ</button>
          <button class="dyo-confirm-ok" id="dyoConfirmOk">ìƒˆ íƒ­ìœ¼ë¡œ ì—´ê¸° â†’</button>
        </div>
      </div>
    </div>

    <!-- ìš°í´ë¦­ ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´ (JSë¡œ ë™ì  ìƒì„±) -->
    <div class="dyo-ctx-menu" id="dyoCtxMenu"></div>

    <!-- File Explorer Window -->
    <div class="dyo-shell-win dyo-explorer-win" id="dyoExplorerWin" style="width:580px;height:400px;top:80px;left:180px;">
      <div class="dyo-brs-handle n"></div><div class="dyo-brs-handle ne"></div>
      <div class="dyo-brs-handle e"></div><div class="dyo-brs-handle se"></div>
      <div class="dyo-brs-handle s"></div><div class="dyo-brs-handle sw"></div>
      <div class="dyo-brs-handle w"></div><div class="dyo-brs-handle nw"></div>
      <div class="dyo-shell-titlebar" id="dyoExplorerTitlebar">
        <span class="dyo-term-dot red"    id="dyoExplorerClose" title="Close"></span>
        <span class="dyo-term-dot yellow" id="dyoExplorerMin"   title="Minimize"></span>
        <span class="dyo-term-dot green"  id="dyoExplorerMax"   title="Maximize"></span>
        <span class="dyo-shell-title">ğŸ“‚ File Explorer</span>
      </div>
      <div class="dyo-explorer-body">
        <div class="dyo-explorer-sidebar" id="dyoExplorerTree"></div>
        <div class="dyo-explorer-main" id="dyoExplorerMain"></div>
      </div>
    </div>

    <!-- Properties Window -->
    <div class="dyo-shell-win dyo-props-win" id="dyoPropsWin" style="width:360px;height:480px;top:100px;left:420px;">
      <div class="dyo-brs-handle n"></div><div class="dyo-brs-handle ne"></div>
      <div class="dyo-brs-handle e"></div><div class="dyo-brs-handle se"></div>
      <div class="dyo-brs-handle s"></div><div class="dyo-brs-handle sw"></div>
      <div class="dyo-brs-handle w"></div><div class="dyo-brs-handle nw"></div>
      <div class="dyo-shell-titlebar" id="dyoPropsTitlebar">
        <span class="dyo-term-dot red"    id="dyoPropsClose" title="Close"></span>
        <span class="dyo-term-dot yellow" id="dyoPropsMin"   title="Minimize"></span>
        <span class="dyo-term-dot green"  id="dyoPropsMax"   title="Maximize"></span>
        <span class="dyo-shell-title" id="dyoPropsTitle">Properties</span>
      </div>
      <div class="dyo-props-body" id="dyoPropsBody"></div>
    </div>

  </s_t3>
  <script src="./images/script.js"></script>
  <script>
    // íƒ€ì´í•‘ ì• ë‹ˆë©”ì´ì…˜
    (function() {
      var el = document.getElementById('typingText');
      if (!el) return;

      var text = 'Do You Coding?';
      var i = 0;
      var deleting = false;
      var typeSpeed = 120;
      var deleteSpeed = 80;
      var pauseAfterType = 2000;
      var pauseAfterDelete = 800;

      function tick() {
        if (!deleting) {
          el.textContent = text.substring(0, i + 1);
          i++;
          if (i === text.length) {
            deleting = true;
            setTimeout(tick, pauseAfterType);
          } else {
            setTimeout(tick, typeSpeed);
          }
        } else {
          i--;
          el.textContent = text.substring(0, i);
          if (i === 0) {
            deleting = false;
            setTimeout(tick, pauseAfterDelete);
          } else {
            setTimeout(tick, deleteSpeed);
          }
        }
      }

      setTimeout(tick, 1000);
    })();

    // í™ˆ(ì¸ë±ìŠ¤) í˜ì´ì§€ - ë°ìŠ¤í¬íƒ‘ í™ˆí™”ë©´ í‘œì‹œ
    (function() {
      if (document.body.id !== 'tt-body-index') return;

      var desktop = document.getElementById('dyoDesktop');
      if (!desktop) return;

      // ë°ìŠ¤í¬íƒ‘ í‘œì‹œ + ë°”ë”” ìŠ¤í¬ë¡¤ ì ê¸ˆ
      desktop.classList.add('show');
      document.body.style.overflow = 'hidden';

      // ì‹œê³„ ì—…ë°ì´íŠ¸
      function updateClock() {
        var now = new Date();
        var hh = String(now.getHours()).padStart(2, '0');
        var mm = String(now.getMinutes()).padStart(2, '0');
        var yyyy = now.getFullYear();
        var mo = String(now.getMonth() + 1).padStart(2, '0');
        var dd = String(now.getDate()).padStart(2, '0');
        var clockEl = document.getElementById('desktopClock');
        var dateEl  = document.getElementById('desktopDate');
        if (clockEl) clockEl.textContent = hh + ':' + mm;
        if (dateEl)  dateEl.textContent  = yyyy + '/' + mo + '/' + dd;
      }
      updateClock();
      setInterval(updateClock, 1000);

      // README ì•„ì´ì½˜ í´ë¦­
      var iconReadme = document.getElementById('desktopIconReadme');
      if (iconReadme) {
        iconReadme.addEventListener('click', function() {
          if (window.dyoOpenReadme) window.dyoOpenReadme();
        });
      }

      // Terminal ì•„ì´ì½˜ í´ë¦­ â†’ í„°ë¯¸ë„ ì°½ ì—´ê¸°
      var iconShell = document.getElementById('desktopIconShell');
      if (iconShell) {
        iconShell.addEventListener('click', function() {
          if (window.dyoOpenShell) window.dyoOpenShell();
        });
      }

      // Blog ì•„ì´ì½˜ í´ë¦­ â†’ ì „ì²´ê¸€ë³´ê¸° ì°½ìœ¼ë¡œ ì—´ê¸°
      var iconBlog = document.getElementById('desktopIconBlog');
      if (iconBlog) {
        iconBlog.addEventListener('click', function() {
          if (window.dyoOpenBrowser) window.dyoOpenBrowser('/category');
        });
      }

      // Guestbook ì•„ì´ì½˜ í´ë¦­ â†’ ì±„íŒ…ì°½ ì—´ê¸°
      var iconGuest = document.getElementById('desktopIconGuest');
      if (iconGuest) {
        iconGuest.addEventListener('click', function() {
          if (window.dyoOpenGuest) window.dyoOpenGuest();
        });
      }

      // GitHub ì•„ì´ì½˜ í´ë¦­ â†’ ì™¸ë¶€ ë§í¬ í™•ì¸ í›„ ìƒˆ íƒ­ìœ¼ë¡œ ì—´ê¸°
      var iconGithub = document.getElementById('desktopIconGithub');
      if (iconGithub) {
        iconGithub.addEventListener('click', function() {
          if (window.dyoOpenExternal) window.dyoOpenExternal('https://github.com/doyoungkim-code');
        });
      }

      // File Explorer ì•„ì´ì½˜ í´ë¦­
      var iconExplorer = document.getElementById('desktopIconExplorer');
      if (iconExplorer) {
        iconExplorer.addEventListener('click', function() {
          if (window.dyoOpenExplorer) window.dyoOpenExplorer();
        });
      }

    })();

    // ê²Œì‹œê¸€ ëª©ì°¨(TOC) ìë™ ìƒì„±
    (function() {
      var view = document.getElementById('article-view');
      if (!view) return;
      var bodyId = document.body.id;
      if (bodyId !== 'tt-body-page') return;

      var headings = view.querySelectorAll('h2, h3');
      if (headings.length < 2) return;

      var toc = document.createElement('div');
      toc.className = 'toc-wrapper';

      var title = document.createElement('div');
      title.className = 'toc-title';
      title.innerHTML = 'Table of Contents <span class="toc-toggle">&#9660;</span>';
      title.addEventListener('click', function() {
        toc.classList.toggle('collapsed');
      });

      var list = document.createElement('ul');
      list.className = 'toc-list';

      headings.forEach(function(h, i) {
        var id = 'toc-heading-' + i;
        h.id = id;
        var li = document.createElement('li');
        li.className = 'toc-' + h.tagName.toLowerCase();
        var a = document.createElement('a');
        a.href = '#' + id;
        a.textContent = h.textContent;
        li.appendChild(a);
        list.appendChild(li);
      });

      toc.appendChild(title);
      toc.appendChild(list);
      view.insertBefore(toc, view.firstChild);
    })();

    // ì½”ë“œë¸”ëŸ­: highlight.js ì ìš© + ì–¸ì–´ ê°ì§€ + ë³µì‚¬ ë²„íŠ¼ + wrapper
    (function() {
      var view = document.getElementById('article-view');
      if (!view) return;

      // highlight.js ì‹¤í–‰ (Tistory data-ke-language ì§€ì›)
      if (typeof hljs !== 'undefined') {
        view.querySelectorAll('pre code').forEach(function(codeEl) {
          var pre = codeEl.parentElement;
          var keLang = pre && pre.getAttribute('data-ke-language');
          if (keLang && !codeEl.classList.contains('hljs')) {
            codeEl.className = 'language-' + keLang.toLowerCase();
          }
          if (!codeEl.classList.contains('hljs')) {
            hljs.highlightElement(codeEl);
          }
        });
        // code ì—†ì´ preë§Œ ìˆëŠ” ê²½ìš°
        view.querySelectorAll('pre').forEach(function(pre) {
          if (!pre.querySelector('code')) {
            var code = document.createElement('code');
            code.textContent = pre.textContent;
            var keLang = pre.getAttribute('data-ke-language');
            if (keLang) code.className = 'language-' + keLang.toLowerCase();
            pre.textContent = '';
            pre.appendChild(code);
            hljs.highlightElement(code);
          }
        });
      }

      // ì–¸ì–´ ê°ì§€ ë§µ: classëª… â†’ í‘œì‹œ ì´ë¦„
      var langMap = {
        'java': 'Java', 'python': 'Python', 'py': 'Python',
        'javascript': 'JavaScript', 'js': 'JavaScript',
        'typescript': 'TypeScript', 'ts': 'TypeScript',
        'html': 'HTML', 'css': 'CSS', 'scss': 'SCSS',
        'json': 'JSON', 'xml': 'XML', 'yaml': 'YAML', 'yml': 'YAML',
        'sql': 'SQL', 'bash': 'Bash', 'sh': 'Shell', 'shell': 'Shell',
        'c': 'C', 'cpp': 'C++', 'csharp': 'C#', 'cs': 'C#',
        'go': 'Go', 'rust': 'Rust', 'ruby': 'Ruby', 'rb': 'Ruby',
        'php': 'PHP', 'swift': 'Swift', 'kotlin': 'Kotlin', 'kt': 'Kotlin',
        'dart': 'Dart', 'scala': 'Scala', 'r': 'R',
        'markdown': 'Markdown', 'md': 'Markdown',
        'dockerfile': 'Dockerfile', 'docker': 'Docker',
        'groovy': 'Groovy', 'gradle': 'Gradle',
        'properties': 'Properties', 'ini': 'INI', 'toml': 'TOML',
        'plaintext': 'Text', 'text': 'Text'
      };

      // ì–¸ì–´ ìƒ‰ìƒ ë§µ
      var langColors = {
        'Java': '#b07219', 'Python': '#3572A5', 'JavaScript': '#f1e05a',
        'TypeScript': '#3178c6', 'HTML': '#e34c26', 'CSS': '#563d7c',
        'JSON': '#292929', 'SQL': '#e38c00', 'Bash': '#89e051',
        'Shell': '#89e051', 'C': '#555555', 'C++': '#f34b7d',
        'C#': '#178600', 'Go': '#00ADD8', 'Rust': '#dea584',
        'Ruby': '#701516', 'PHP': '#4F5D95', 'Swift': '#F05138',
        'Kotlin': '#A97BFF', 'Dart': '#00B4AB', 'Scala': '#c22d40',
        'Dockerfile': '#384d54', 'Groovy': '#4298b8', 'Gradle': '#02303A',
        'SCSS': '#c6538c', 'XML': '#0060ac', 'YAML': '#cb171e',
        'Markdown': '#083fa1'
      };

      // ì½”ë“œ ë‚´ìš©ìœ¼ë¡œ ì–¸ì–´ ì¶”ì¸¡
      function guessLang(code) {
        if (/public\s+(static\s+)?void\s+main|System\.out\.print|import\s+java\.|@(Override|Autowired|Service|Controller|Repository|Entity|Component)/.test(code)) return 'Java';
        if (/from\s+\w+\s+import|def\s+\w+\s*\(|print\s*\(|if\s+__name__/.test(code)) return 'Python';
        if (/console\.\w+\(|=>\s*\{|const\s+\w+\s*=|let\s+\w+\s*=|require\s*\(|module\.exports/.test(code)) return 'JavaScript';
        if (/interface\s+\w+|:\s*(string|number|boolean)\b|<\w+>/.test(code) && /const\s+|let\s+|=>\s*/.test(code)) return 'TypeScript';
        if (/<\/?[a-z][\s\S]*>/i.test(code) && /<(div|span|html|head|body|p|a|img|ul|li|table|form)\b/i.test(code)) return 'HTML';
        if (/\{[\s\S]*?[\w-]+\s*:\s*[\w#][\s\S]*?\}/.test(code) && /(color|margin|padding|display|font-size|background)\s*:/.test(code)) return 'CSS';
        if (/^\s*(SELECT|INSERT|UPDATE|DELETE|CREATE|ALTER|DROP|FROM|WHERE)\b/im.test(code)) return 'SQL';
        if (/^(#!\/?bin\/|apt-get|sudo|echo|grep|chmod|mkdir|cd\s|ls\s|curl\s|wget\s)/m.test(code)) return 'Bash';
        if (/^\s*\{[\s\S]*"[\w]+":\s*/m.test(code)) return 'JSON';
        if (/^\s*<\?xml|<\/?\w+:\w+/m.test(code)) return 'XML';
        if (/^(FROM|RUN|CMD|EXPOSE|COPY|ADD|ENTRYPOINT|WORKDIR)\s/m.test(code)) return 'Dockerfile';
        if (/^(spring|server|logging)\.\w+\s*=/m.test(code)) return 'Properties';
        if (/func\s+\w+|package\s+main|fmt\.Print/.test(code)) return 'Go';
        if (/fn\s+\w+|let\s+mut\s|println!\(|use\s+std::/.test(code)) return 'Rust';
        return '';
      }

      var pres = view.querySelectorAll('pre');
      pres.forEach(function(pre) {
        if (pre.closest('.code-block-wrapper')) return;

        var codeEl = pre.querySelector('code');
        var lang = '';

        // 1. classì—ì„œ ì–¸ì–´ ê°ì§€
        if (codeEl) {
          var cls = (codeEl.className || '') + ' ' + (pre.className || '');
          var m = cls.match(/(?:language-|lang-|hljs\s+)(\w+)/);
          if (m && langMap[m[1].toLowerCase()]) {
            lang = langMap[m[1].toLowerCase()];
          }
        }
        // 2. data-ke-language (Tistory ì—ë””í„°)
        if (!lang && pre.getAttribute('data-ke-language')) {
          var keLang = pre.getAttribute('data-ke-language').toLowerCase();
          if (langMap[keLang]) lang = langMap[keLang];
        }
        // 3. ì½”ë“œ ë‚´ìš©ìœ¼ë¡œ ì¶”ì¸¡
        if (!lang) {
          var codeText = (codeEl || pre).textContent || '';
          lang = guessLang(codeText);
        }

        var dotColor = (lang && langColors[lang]) ? langColors[lang] : '#8b949e';
        var displayLang = lang || 'Code';

        // wrapper ìƒì„±
        var wrapper = document.createElement('div');
        wrapper.className = 'code-block-wrapper';

        // header
        var header = document.createElement('div');
        header.className = 'code-block-header';
        header.innerHTML =
          '<span class="code-lang-label">' +
            '<span class="code-lang-dot" style="background:' + dotColor + ';"></span>' +
            displayLang +
          '</span>' +
          '<button type="button" class="code-copy-btn">' +
            '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>' +
            '<span>Copy</span>' +
          '</button>';

        // ë³µì‚¬ ê¸°ëŠ¥
        var btn = header.querySelector('.code-copy-btn');
        btn.addEventListener('click', function() {
          var text = (codeEl || pre).textContent;
          navigator.clipboard.writeText(text).then(function() {
            btn.classList.add('copied');
            btn.querySelector('span').textContent = 'Copied!';
            btn.querySelector('svg').innerHTML = '<polyline points="20 6 9 17 4 12"></polyline>';
            setTimeout(function() {
              btn.classList.remove('copied');
              btn.querySelector('span').textContent = 'Copy';
              btn.querySelector('svg').innerHTML = '<rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>';
            }, 2000);
          });
        });

        pre.parentNode.insertBefore(wrapper, pre);
        wrapper.appendChild(header);
        wrapper.appendChild(pre);
      });
    })();

    // ìŠ¤í¬ë¡¤ ì§„í–‰ë°” + ë§¨ ìœ„ë¡œ ê°€ê¸° ë²„íŠ¼
    (function() {
      var progressBar = document.getElementById('scrollProgress');
      var btnTop = document.getElementById('btnScrollTop');
      if (!progressBar || !btnTop) return;

      // ê²Œì‹œê¸€ í˜ì´ì§€ì—ì„œë§Œ ì§„í–‰ë°” í‘œì‹œ
      var isArticle = document.body.id === 'tt-body-page';

      window.addEventListener('scroll', function() {
        var scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        var docHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;

        // ì§„í–‰ë°”
        if (isArticle && docHeight > 0) {
          var progress = (scrollTop / docHeight) * 100;
          progressBar.style.width = progress + '%';
        }

        // ë§¨ ìœ„ë¡œ ë²„íŠ¼: 300px ì´ìƒ ìŠ¤í¬ë¡¤ ì‹œ í‘œì‹œ
        if (scrollTop > 300) {
          btnTop.classList.add('visible');
        } else {
          btnTop.classList.remove('visible');
        }
      });

      btnTop.addEventListener('click', function() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    })();

    // ============================================================
    // ê°€ìƒ í„°ë¯¸ë„ ì°½ (ë“œë˜ê·¸ ê°€ëŠ¥, ìµœì†Œí™”/ìµœëŒ€í™”)
    // ============================================================
    (function() {
      var win      = document.getElementById('dyoShellWin');
      var btnShell = document.getElementById('btnShell');
      var titlebar = document.getElementById('dyoShellTitlebar');
      var closeBtn = document.getElementById('dyoShellClose');
      var minBtn   = document.getElementById('dyoShellMin');
      var maxBtn   = document.getElementById('dyoShellMax');
      var termInput= document.getElementById('termInput');
      var output   = document.getElementById('termOutput');
      var form     = document.getElementById('dyoTermForm');
      if (!win || !btnShell) return;

      var history = [], histIdx = -1;
      var dragging = false, dragOX = 0, dragOY = 0;
      var resizing = false, resizeDir = '', resizeSX = 0, resizeSY = 0, resizeSRect = null;
      var MIN_W = 360, MIN_H = 180;
      // ìµœëŒ€í™” ì „ ì €ì¥ìš©
      var savedPos = null;

      var categories = {
        'project':          { label: 'ğŸ“‚ Project',           url: '/category/Project' },
        'dev log':          { label: 'ğŸ“ Dev Log',            url: '/category/Project/Dev%20Log' },
        'retrospect':       { label: 'ğŸ“ Retrospect',         url: '/category/Project/Retrospect' },
        'backend':          { label: 'â˜• Backend',             url: '/category/Backend' },
        'java':             { label: 'â˜• Java',                url: '/category/Backend/Java' },
        'spring':           { label: 'ğŸƒ Spring Boot',        url: '/category/Backend/Spring%20Boot' },
        'spring boot':      { label: 'ğŸƒ Spring Boot',        url: '/category/Backend/Spring%20Boot' },
        'database':         { label: 'ğŸ’¾ Database',            url: '/category/Backend/Database' },
        'db':               { label: 'ğŸ’¾ Database',            url: '/category/Backend/Database' },
        'frontend':         { label: 'ğŸ¨ Frontend',           url: '/category/Frontend' },
        'mobile':           { label: 'ğŸ“± Mobile',             url: '/category/Frontend/Mobile' },
        'web':              { label: 'ğŸŒ Web',                url: '/category/Frontend/Web' },
        'cs':               { label: 'ğŸ’» CS & Engineering',   url: '/category/CS%20&%20Engineering' },
        'c':                { label: 'ğŸ“— C',                  url: '/category/CS%20&%20Engineering/C' },
        'algorithm':        { label: 'ğŸ“ Algorithm',           url: '/category/CS%20&%20Engineering/Algorithm' },
        'computer science': { label: 'ğŸ“š Computer Science',   url: '/category/CS%20&%20Engineering/Computer%20Science' },
        'infra':            { label: 'ğŸ§± Infra & Tools',      url: '/category/CS%20&%20Engineering/Infra%20&%20Tools' },
        'growth':           { label: 'ğŸŒ± Growth',             url: '/category/Growth' },
        'certifications':   { label: 'ğŸ“œ Certifications',     url: '/category/Growth/Certifications' },
        'english':          { label: 'ğŸ“– English',            url: '/category/Growth/English' },
        'books':            { label: 'ğŸ“š Books',              url: '/category/Growth/Books' },
        'documents':        { label: 'ğŸ“‘ Documents',          url: '/category/Growth/Documents' },
        'etc':              { label: 'ğŸ“„ etc',                url: '/category/Growth/etc' }
      };

      function esc(t) { return t.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

      function addOutput(cmd, html) {
        var block = document.createElement('div');
        block.className = 'dyo-output-block';
        block.innerHTML =
          '<div class="dyo-output-cmd-line">' +
            '<span class="dyo-output-prompt">[doyoucode@guest ~]$</span> ' +
            '<span class="dyo-output-cmd">' + esc(cmd) + '</span>' +
          '</div>' +
          '<div class="dyo-output-result">' + html + '</div>';
        output.insertBefore(block, form);
        output.scrollTop = output.scrollHeight;
      }

      var BANNER = 'â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\nâ•‘  Welcome to doyoucode\'s terminal       â•‘\nâ•‘  Type \'<span class="tr-cmd">help</span>\' to see available commands â•‘\nâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•';

      // â”€â”€ ë¸Œë¼ìš°ì € ì°½ ì—´ê¸° (iframe) â”€â”€
      function launchBrowser(url) {
        if (window.dyoOpenBrowser) window.dyoOpenBrowser(url);
      }

      function processCmd(raw) {
        var cmd = raw.trim();
        if (!cmd) return;
        history.push(cmd); histIdx = history.length;

        var parts = cmd.split(/\s+/);
        var base = parts[0].toLowerCase();
        var arg  = parts.slice(1).join(' ');

        switch (base) {
          case 'help':
            addOutput(cmd,
              '<span class="tr-info">Available commands:</span><br><br>' +
              '<span class="tr-cmd">help</span>               â€” show this message<br>' +
              '<span class="tr-cmd">about</span> / <span class="tr-cmd">whoami</span>  â€” about doyoucode<br>' +
              '<span class="tr-cmd">ls</span>                 â€” list categories<br>' +
              '<span class="tr-cmd">cd &lt;category&gt;</span>     â€” navigate to category<br>' +
              '<span class="tr-cmd">search &lt;keyword&gt;</span>  â€” search blog posts<br>' +
              '<span class="tr-cmd">date</span>               â€” current date & time<br>' +
              '<span class="tr-cmd">echo &lt;text&gt;</span>       â€” echo text<br>' +
              '<span class="tr-cmd">github</span>             â€” open GitHub profile<br>' +
              '<span class="tr-cmd">clear</span>              â€” clear terminal<br>' +
              '<span class="tr-cmd">exit</span>               â€” close terminal'
            ); break;

          case 'about': case 'whoami':
            addOutput(cmd,
              '<span class="tr-success"><b>doyoucode</b></span> â€” Backend Developer<br>' +
              'í”„ë¡œê·¸ë˜ë°ì´ ì¼ìƒì´ ëœ ê°œë°œì ê¿ˆë‚˜ë¬´ì˜ ê¸°ë¡ ê³µê°„<br>' +
              '<span style="color:#5c6370">ì½”ë”© ê³µë¶€ë¥¼ í•˜ë©° ë§ˆì£¼ì¹œ ì‹œí–‰ì°©ì˜¤ì™€ í•´ê²° ê³¼ì •ì„ ì •ë¦¬í•˜ë©° ì„±ì¥ ì¤‘</span>'
            ); break;

          case 'ls':
            var h = '<span class="tr-info">ğŸ“‚ Categories</span><br><br>';
            [{name:'Project',color:'#56b6c2',subs:['Dev Log','Retrospect']},
             {name:'Backend',color:'#c678dd',subs:['Java','Spring Boot','Database']},
             {name:'Frontend',color:'#61afef',subs:['Mobile','Web']},
             {name:'CS & Engineering',color:'#e06c75',subs:['C','Algorithm','Computer Science','Infra & Tools']},
             {name:'Growth',color:'#98c379',subs:['Certifications','English','Books','Documents','etc']}
            ].forEach(function(c) {
              h += '<b style="color:'+c.color+'">ğŸ“‚ '+c.name+'</b> <span style="color:#5c6370">('+c.subs.join(', ')+')</span><br>';
            });
            h += '<br><span style="color:#5c6370">ğŸ’¡ <span class="tr-cmd">cd &lt;name&gt;</span> to navigate</span>';
            addOutput(cmd, h); break;

          case 'cd':
            if (!arg) { addOutput(cmd,'<span class="tr-warn">Usage: cd &lt;category name&gt;</span>'); break; }
            var key = arg.toLowerCase();
            if (categories[key]) {
              addOutput(cmd,'<span class="tr-success">ğŸ“‚ Opening '+categories[key].label+' ...</span>');
              launchBrowser(categories[key].url);
            } else {
              var sugg = Object.keys(categories).filter(function(k){ return k.indexOf(key)!==-1; })
                .slice(0,3).map(function(k){ return categories[k].label; });
              var msg = '<span class="tr-error">bash: cd: '+esc(arg)+': No such directory</span>';
              if (sugg.length) msg += '<br><span class="tr-warn">Did you mean: '+sugg.join(', ')+'?</span>';
              addOutput(cmd, msg);
            } break;

          case 'search': case 'grep':
            if (!arg) { addOutput(cmd,'<span class="tr-warn">Usage: search &lt;keyword&gt;</span>'); break; }
            addOutput(cmd,'<span class="tr-success">ğŸ” Searching for "'+esc(arg)+'" ...</span>');
            launchBrowser('/search/'+encodeURIComponent(arg)); break;

          case 'date':
            var now = new Date();
            var ds = now.getFullYear()+'-'+String(now.getMonth()+1).padStart(2,'0')+'-'+
              String(now.getDate()).padStart(2,'0')+' '+String(now.getHours()).padStart(2,'0')+':'+
              String(now.getMinutes()).padStart(2,'0')+':'+String(now.getSeconds()).padStart(2,'0');
            addOutput(cmd,'<span class="tr-default">'+['Sun','Mon','Tue','Wed','Thu','Fri','Sat'][now.getDay()]+' '+ds+' KST</span>'); break;

          case 'echo':
            addOutput(cmd,'<span class="tr-default">'+(arg?esc(arg):'')+'</span>'); break;

          case 'clear':
            while (output.firstChild && output.firstChild !== form) {
              output.removeChild(output.firstChild);
            }
            var bannerEl = document.createElement('div');
            bannerEl.className = 'dyo-term-banner';
            bannerEl.innerHTML = BANNER;
            output.insertBefore(bannerEl, form);
            output.scrollTop = 0;
            return;

          case 'github':
            addOutput(cmd,'<span class="tr-success">ğŸš€ Opening GitHub ...</span>');
            setTimeout(function(){ if (window.dyoOpenExternal) window.dyoOpenExternal('https://github.com/doyoungkim-code'); }, 400); break;

          case 'sudo':   addOutput(cmd,'<span class="tr-error">ğŸ”’ Permission denied ğŸ˜</span>'); break;
          case 'rm':     addOutput(cmd,'<span class="tr-error">ğŸš« Not gonna happen here ğŸ˜…</span>'); break;
          case 'exit':   closeWindow(); return;
          case 'hello': case 'hi':
            addOutput(cmd,'<span class="tr-success">ğŸ‘‹ Hello! Type <span class="tr-cmd">help</span> to see what you can do.</span>'); break;

          default:
            addOutput(cmd,
              '<span class="tr-error">bash: '+esc(base)+': command not found</span><br>' +
              '<span style="color:#5c6370">Type <span class="tr-cmd">help</span> to see available commands.</span>'
            );
        }
      }

      // â”€â”€ ì°½ ì—´ê¸°/ë‹«ê¸°/ìµœì†Œí™”/ìµœëŒ€í™” â”€â”€
      function openWindow() {
        if (!win.classList.contains('open')) {
          var W = 680, H = 440;
          win.style.left   = Math.round((window.innerWidth  - W) / 2) + 'px';
          win.style.top    = Math.round((window.innerHeight - H) / 2) + 'px';
          win.style.right  = 'auto';
          win.style.bottom = 'auto';
        }
        win.classList.add('open');
        win.classList.remove('minimized');
        btnShell.classList.add('active');
        window._dyoZTop = (window._dyoZTop || 9000) + 1;
        win.style.zIndex = window._dyoZTop;
        setTimeout(function() {
          termInput && termInput.focus();
          output.scrollTop = output.scrollHeight;
        }, 50);
      }
      function closeWindow() {
        win.classList.remove('open', 'minimized', 'maximized');
        btnShell.classList.remove('active');
        savedPos = null;
      }
      function minimizeWindow() {
        if (win.classList.contains('minimized')) {
          win.classList.remove('minimized');
          setTimeout(function(){ termInput && termInput.focus(); }, 50);
        } else {
          // ìµœëŒ€í™” ìƒíƒœë¼ë©´ ë¨¼ì € ë³µì›
          if (win.classList.contains('maximized')) {
            win.classList.remove('maximized');
            if (savedPos) {
              win.style.left = savedPos.left; win.style.top = savedPos.top;
              win.style.right = savedPos.right; win.style.bottom = savedPos.bottom;
              win.style.width = savedPos.width; win.style.height = savedPos.height;
              savedPos = null;
            }
          }
          win.classList.add('minimized');
        }
      }
      function maximizeWindow() {
        if (win.classList.contains('maximized')) {
          // ë³µì›
          win.classList.remove('maximized');
          if (savedPos) {
            win.style.left   = savedPos.left;
            win.style.top    = savedPos.top;
            win.style.right  = savedPos.right;
            win.style.bottom = savedPos.bottom;
            win.style.width  = savedPos.width;
            win.style.height = savedPos.height;
            savedPos = null;
          }
        } else {
          // í˜„ì¬ ìœ„ì¹˜ ì €ì¥
          savedPos = {
            left: win.style.left, top: win.style.top,
            right: win.style.right, bottom: win.style.bottom,
            width: win.style.width, height: win.style.height
          };
          win.classList.add('maximized');
          // ìµœëŒ€í™” ì‹œ ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ ì´ˆê¸°í™” (CSSë¡œ ì œì–´)
          win.style.left = win.style.top = win.style.right =
          win.style.bottom = win.style.width = win.style.height = '';
        }
        setTimeout(function(){ termInput && termInput.focus(); }, 50);
      }

      // ë°ìŠ¤í¬íƒ‘ ì•„ì´ì½˜ì—ì„œ í˜¸ì¶œí•  ìˆ˜ ìˆë„ë¡ ì „ì—­ ë…¸ì¶œ
      window.dyoOpenShell = openWindow;

      // ì°½ í¬ì»¤ìŠ¤ (z-index ìµœìƒìœ„)
      function bringToFront() {
        window._dyoZTop = (window._dyoZTop || 9000) + 1;
        win.style.zIndex = window._dyoZTop;
      }
      win.addEventListener('mousedown', bringToFront);

      btnShell.addEventListener('click', function() {
        win.classList.contains('open') ? closeWindow() : openWindow();
      });
      if (closeBtn) closeBtn.addEventListener('click', closeWindow);
      if (minBtn)   minBtn.addEventListener('click',   minimizeWindow);
      if (maxBtn)   maxBtn.addEventListener('click',   maximizeWindow);

      // ESC ë‹«ê¸°
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && win.classList.contains('open')) closeWindow();
      });

      // â”€â”€ ë“œë˜ê·¸ â”€â”€
      titlebar.addEventListener('dblclick', function(e) {
        if (e.target === closeBtn || e.target === minBtn || e.target === maxBtn) return;
        maximizeWindow();
      });

      titlebar.addEventListener('mousedown', function(e) {
        if (win.classList.contains('maximized')) return;
        if (e.target === minBtn || e.target === maxBtn || e.target === closeBtn) return;
        var rect = win.getBoundingClientRect();
        // ì¸ë¼ì¸ left/top ì¢Œí‘œë¡œ ì „í™˜
        win.style.left   = rect.left + 'px';
        win.style.top    = rect.top  + 'px';
        win.style.right  = 'auto';
        win.style.bottom = 'auto';
        dragging = true;
        dragOX = e.clientX - rect.left;
        dragOY = e.clientY - rect.top;
        e.preventDefault();
      });

      document.addEventListener('mousemove', function(e) {
        if (dragging) {
          var x = Math.max(0, Math.min(window.innerWidth  - win.offsetWidth,  e.clientX - dragOX));
          var y = Math.max(0, Math.min(window.innerHeight - 40, e.clientY - dragOY));
          win.style.left = x + 'px';
          win.style.top  = y + 'px';
        }
        if (resizing) {
          var dx = e.clientX - resizeSX;
          var dy = e.clientY - resizeSY;
          var r = resizeSRect;
          var newL = r.left, newT = r.top, newW = r.width, newH = r.height;
          if (resizeDir.indexOf('e') !== -1) newW = Math.max(MIN_W, r.width + dx);
          if (resizeDir.indexOf('s') !== -1) newH = Math.max(MIN_H, r.height + dy);
          if (resizeDir.indexOf('w') !== -1) { newW = Math.max(MIN_W, r.width - dx); newL = r.left + r.width - newW; }
          if (resizeDir.indexOf('n') !== -1) { newH = Math.max(MIN_H, r.height - dy); newT = r.top + r.height - newH; }
          win.style.left   = newL + 'px';
          win.style.top    = newT + 'px';
          win.style.width  = newW + 'px';
          win.style.height = newH + 'px';
        }
      });

      document.addEventListener('mouseup', function() {
        dragging = false;
        resizing = false;
      });

      // â”€â”€ ë¦¬ì‚¬ì´ì¦ˆ í•¸ë“¤ â”€â”€
      win.querySelectorAll('.dyo-brs-handle').forEach(function(handle) {
        handle.addEventListener('mousedown', function(e) {
          if (win.classList.contains('maximized') || win.classList.contains('minimized')) return;
          e.stopPropagation();
          e.preventDefault();
          resizing = true;
          resizeDir = handle.getAttribute('data-dir');
          resizeSX = e.clientX;
          resizeSY = e.clientY;
          var rect = win.getBoundingClientRect();
          resizeSRect = { left: rect.left, top: rect.top, width: rect.width, height: rect.height };
          win.style.left   = rect.left   + 'px';
          win.style.top    = rect.top    + 'px';
          win.style.width  = rect.width  + 'px';
          win.style.height = rect.height + 'px';
          win.style.right  = 'auto';
          win.style.bottom = 'auto';
        });
      });

      // í„°ì¹˜ ë“œë˜ê·¸ (ëª¨ë°”ì¼)
      titlebar.addEventListener('touchstart', function(e) {
        if (win.classList.contains('maximized')) return;
        var t = e.touches[0];
        var rect = win.getBoundingClientRect();
        win.style.left   = rect.left + 'px';
        win.style.top    = rect.top  + 'px';
        win.style.right  = 'auto';
        win.style.bottom = 'auto';
        dragging = true;
        dragOX = t.clientX - rect.left;
        dragOY = t.clientY - rect.top;
      }, { passive: true });

      document.addEventListener('touchmove', function(e) {
        if (!dragging) return;
        var t = e.touches[0];
        var x = Math.max(0, Math.min(window.innerWidth  - win.offsetWidth,  t.clientX - dragOX));
        var y = Math.max(0, Math.min(window.innerHeight - 40, t.clientY - dragOY));
        win.style.left = x + 'px';
        win.style.top  = y + 'px';
      }, { passive: true });

      document.addEventListener('touchend', function() { dragging = false; });

      // â”€â”€ ì…ë ¥ ì´ë²¤íŠ¸ â”€â”€
      // Enter: form submit (ê°€ì¥ ì•ˆì •ì ì¸ í¬ë¡œìŠ¤-ë¸Œë¼ìš°ì € ë°©ì‹)
      if (form) {
        form.addEventListener('submit', function(e) {
          e.preventDefault();
          if (!termInput) return;
          processCmd(termInput.value);
          termInput.value = '';
          termInput.focus();
        });
      }

      // í™”ì‚´í‘œí‚¤(íˆìŠ¤í† ë¦¬) + Tab(ìë™ì™„ì„±)ë§Œ keydownìœ¼ë¡œ ì²˜ë¦¬
      if (termInput) {
        termInput.addEventListener('keydown', function(e) {
          if (e.key === 'ArrowUp' || e.keyCode === 38) {
            e.preventDefault();
            if (histIdx > 0) termInput.value = history[--histIdx];
          } else if (e.key === 'ArrowDown' || e.keyCode === 40) {
            e.preventDefault();
            termInput.value = histIdx < history.length-1 ? history[++histIdx] : (histIdx=history.length,'');
          } else if (e.key === 'Tab' || e.keyCode === 9) {
            e.preventDefault();
            var val = termInput.value.trim().toLowerCase();
            var cmds = ['help','about','whoami','ls','cd','search','grep','date','echo','clear','github','exit'];
            if (!val.includes(' ')) {
              var m = cmds.filter(function(c){ return c.startsWith(val); });
              if (m.length === 1) termInput.value = m[0];
            } else if (val.startsWith('cd ')) {
              var p = val.slice(3);
              var cm = Object.keys(categories).filter(function(k){ return k.startsWith(p); });
              if (cm.length === 1) termInput.value = 'cd ' + cm[0];
            }
          }
        });
      }

      if (output) {
        output.addEventListener('click', function(e) {
          if (e.target.tagName !== 'A') termInput && termInput.focus();
        });
      }
    })();

    // ============================================================
    // ê°€ìƒ ë¸Œë¼ìš°ì € ì°½ (ë“œë˜ê·¸ ê°€ëŠ¥, ìµœì†Œí™”/ìµœëŒ€í™”/ë‹«ê¸°)
    // ============================================================
    (function() {
      var bwin     = document.getElementById('dyoBrowserWin');
      var btbar    = document.getElementById('dyoBrowserTitlebar');
      var bClose   = document.getElementById('dyoBrowserClose');
      var bMin     = document.getElementById('dyoBrowserMin');
      var bMax     = document.getElementById('dyoBrowserMax');
      var bBack    = document.getElementById('dyoBrowserBack');
      var bFwd     = document.getElementById('dyoBrowserFwd');
      var bReload  = document.getElementById('dyoBrowserReload');
      var bUrlBar  = document.getElementById('dyoBrowserUrl');
      var bFrame   = document.getElementById('dyoBrowserFrame');
      if (!bwin || !bFrame) return;
      window._dyoBWin = bwin;
      window._dyoBFrame = bFrame;
      window._dyoBUrlBar = bUrlBar;

      var dragging = false, dragOX = 0, dragOY = 0;
      var resizing = false, resizeDir = '', resizeSX = 0, resizeSY = 0, resizeSRect = null;
      var savedPos = null;
      var MIN_W = 360, MIN_H = 200;

      function openBrowser(url) {
        var fullUrl = url.startsWith('http') ? url : (window.location.origin + url);
        bFrame.src = fullUrl;
        bUrlBar.textContent = window.location.hostname + (url.startsWith('/') ? url : '/' + url);
        if (!bwin.classList.contains('open')) {
          var W = Math.min(1200, window.innerWidth  - 40);
          var H = Math.min(700,  window.innerHeight - 40);
          bwin.style.width  = W + 'px';
          bwin.style.height = H + 'px';
          bwin.style.left   = Math.round((window.innerWidth  - W) / 2) + 'px';
          bwin.style.top    = Math.round((window.innerHeight - H) / 2) + 'px';
          bwin.style.right  = 'auto';
          bwin.style.bottom = 'auto';
        }
        bwin.classList.add('open');
        bwin.classList.remove('minimized');
        window._dyoZTop = (window._dyoZTop || 9000) + 1;
        bwin.style.zIndex = window._dyoZTop;
      }

      function closeBrowser() {
        bwin.classList.remove('open', 'minimized', 'maximized');
        bFrame.src = 'about:blank';
        bUrlBar.textContent = 'about:blank';
        savedPos = null;
      }

      function minimizeBrowser() {
        bwin.classList.toggle('minimized');
      }

      function maximizeBrowser() {
        if (bwin.classList.contains('maximized')) {
          bwin.classList.remove('maximized');
          if (savedPos) {
            bwin.style.left   = savedPos.left;
            bwin.style.top    = savedPos.top;
            bwin.style.right  = savedPos.right;
            bwin.style.bottom = savedPos.bottom;
            bwin.style.width  = savedPos.width;
            bwin.style.height = savedPos.height;
            savedPos = null;
          }
        } else {
          savedPos = {
            left: bwin.style.left, top: bwin.style.top,
            right: bwin.style.right, bottom: bwin.style.bottom,
            width: bwin.style.width, height: bwin.style.height
          };
          bwin.classList.add('maximized');
          bwin.style.left = bwin.style.top = bwin.style.right =
          bwin.style.bottom = bwin.style.width = bwin.style.height = '';
        }
      }

      // URL ì—…ë°ì´íŠ¸ (iframe ë‚´ í˜ì´ì§€ ì´ë™ ê°ì§€)
      bFrame.addEventListener('load', function() {
        try {
          var loc = bFrame.contentWindow.location.href;
          if (loc && loc !== 'about:blank' && loc !== 'about:srcdoc') {
            bUrlBar.textContent = loc.replace(/^https?:\/\//, '');
          }
        } catch(e) { /* cross-origin: ë¬´ì‹œ */ }
      });

      // ì „ì—­ ë…¸ì¶œ
      window.dyoOpenBrowser = openBrowser;

      // ì°½ í¬ì»¤ìŠ¤ (z-index ìµœìƒìœ„)
      function bringToFront() {
        window._dyoZTop = (window._dyoZTop || 9000) + 1;
        bwin.style.zIndex = window._dyoZTop;
      }
      bwin.addEventListener('mousedown', bringToFront);

      if (bClose)  bClose.addEventListener('click',  closeBrowser);
      if (bMin)    bMin.addEventListener('click',    minimizeBrowser);
      if (bMax)    bMax.addEventListener('click',    maximizeBrowser);
      if (bBack)   bBack.addEventListener('click',   function() { try { bFrame.contentWindow.history.back(); } catch(e){} });
      if (bFwd)    bFwd.addEventListener('click',    function() { try { bFrame.contentWindow.history.forward(); } catch(e){} });
      if (bReload) bReload.addEventListener('click', function() { try { bFrame.contentWindow.location.reload(); } catch(e){ bFrame.src = bFrame.src; } });

      // ë”ë¸”í´ë¦­ íƒ€ì´í‹€ë°” â†’ ìµœëŒ€í™” í† ê¸€
      btbar.addEventListener('dblclick', function(e) {
        if (e.target === bClose || e.target === bMin || e.target === bMax) return;
        maximizeBrowser();
      });

      // ë“œë˜ê·¸ (ë§ˆìš°ìŠ¤)
      btbar.addEventListener('mousedown', function(e) {
        if (bwin.classList.contains('maximized')) return;
        if (e.target === bClose || e.target === bMin || e.target === bMax) return;
        var rect = bwin.getBoundingClientRect();
        bwin.style.left   = rect.left + 'px';
        bwin.style.top    = rect.top  + 'px';
        bwin.style.right  = 'auto';
        bwin.style.bottom = 'auto';
        dragging = true;
        dragOX = e.clientX - rect.left;
        dragOY = e.clientY - rect.top;
        bFrame.style.pointerEvents = 'none';
        e.preventDefault();
      });

      document.addEventListener('mousemove', function(e) {
        if (dragging) {
          var x = Math.max(0, Math.min(window.innerWidth  - bwin.offsetWidth,  e.clientX - dragOX));
          var y = Math.max(0, Math.min(window.innerHeight - 40, e.clientY - dragOY));
          bwin.style.left = x + 'px';
          bwin.style.top  = y + 'px';
        }
        if (resizing) {
          var dx = e.clientX - resizeSX;
          var dy = e.clientY - resizeSY;
          var r = resizeSRect;
          var newL = r.left, newT = r.top, newW = r.width, newH = r.height;
          if (resizeDir.indexOf('e') !== -1) newW = Math.max(MIN_W, r.width + dx);
          if (resizeDir.indexOf('s') !== -1) newH = Math.max(MIN_H, r.height + dy);
          if (resizeDir.indexOf('w') !== -1) { newW = Math.max(MIN_W, r.width - dx); newL = r.left + r.width - newW; }
          if (resizeDir.indexOf('n') !== -1) { newH = Math.max(MIN_H, r.height - dy); newT = r.top + r.height - newH; }
          bwin.style.left   = newL + 'px';
          bwin.style.top    = newT + 'px';
          bwin.style.width  = newW + 'px';
          bwin.style.height = newH + 'px';
        }
      });

      document.addEventListener('mouseup', function() {
        if (dragging || resizing) bFrame.style.pointerEvents = '';
        dragging = false;
        resizing = false;
      });

      // ë¦¬ì‚¬ì´ì¦ˆ í•¸ë“¤ (ë§ˆìš°ìŠ¤)
      bwin.querySelectorAll('.dyo-brs-handle').forEach(function(handle) {
        handle.addEventListener('mousedown', function(e) {
          if (bwin.classList.contains('maximized') || bwin.classList.contains('minimized')) return;
          e.stopPropagation();
          e.preventDefault();
          resizing = true;
          resizeDir = handle.getAttribute('data-dir');
          resizeSX = e.clientX;
          resizeSY = e.clientY;
          var rect = bwin.getBoundingClientRect();
          resizeSRect = { left: rect.left, top: rect.top, width: rect.width, height: rect.height };
          bwin.style.left   = rect.left   + 'px';
          bwin.style.top    = rect.top    + 'px';
          bwin.style.width  = rect.width  + 'px';
          bwin.style.height = rect.height + 'px';
          bwin.style.right  = 'auto';
          bwin.style.bottom = 'auto';
          bFrame.style.pointerEvents = 'none';
        });
      });

      // ë“œë˜ê·¸ (í„°ì¹˜)
      btbar.addEventListener('touchstart', function(e) {
        if (bwin.classList.contains('maximized')) return;
        var t = e.touches[0];
        var rect = bwin.getBoundingClientRect();
        bwin.style.left   = rect.left + 'px';
        bwin.style.top    = rect.top  + 'px';
        bwin.style.right  = 'auto';
        bwin.style.bottom = 'auto';
        dragging = true;
        dragOX = t.clientX - rect.left;
        dragOY = t.clientY - rect.top;
      }, { passive: true });

      document.addEventListener('touchmove', function(e) {
        if (!dragging) return;
        var t = e.touches[0];
        var x = Math.max(0, Math.min(window.innerWidth  - bwin.offsetWidth,  t.clientX - dragOX));
        var y = Math.max(0, Math.min(window.innerHeight - 40, t.clientY - dragOY));
        bwin.style.left = x + 'px';
        bwin.style.top  = y + 'px';
      }, { passive: true });

      document.addEventListener('touchend', function() { dragging = false; });
    })();
  </script>

  <script>
    (function() {
      var w        = document.getElementById('dyoReadmeWin');
      var titlebar = document.getElementById('dyoReadmeTitlebar');
      var closeBtn = document.getElementById('dyoReadmeClose');
      var minBtn   = document.getElementById('dyoReadmeMin');
      var maxBtn   = document.getElementById('dyoReadmeMax');
      if (!w) return;

      var dragging = false, dragOX = 0, dragOY = 0;
      var resizing = false, resizeDir = '', resizeSX = 0, resizeSY = 0, resizeSRect = null;
      var MIN_W = 360, MIN_H = 180;
      var savedPos = null;

      function openReadme() {
        if (!w.classList.contains('open')) {
          var W = Math.min(700, window.innerWidth  - 40);
          var H = Math.min(480, window.innerHeight - 40);
          w.style.width  = W + 'px';
          w.style.height = H + 'px';
          w.style.left   = Math.round((window.innerWidth  - W) / 2) + 'px';
          w.style.top    = Math.round((window.innerHeight - H) / 2) + 'px';
          w.style.right  = 'auto';
          w.style.bottom = 'auto';
        }
        w.classList.add('open');
        w.classList.remove('minimized');
        window._dyoZTop = (window._dyoZTop || 9000) + 1;
        w.style.zIndex = window._dyoZTop;
      }
      function closeReadme() {
        w.classList.remove('open', 'minimized', 'maximized');
        savedPos = null;
      }
      function minimizeReadme() {
        if (w.classList.contains('minimized')) {
          w.classList.remove('minimized');
        } else {
          if (w.classList.contains('maximized')) {
            w.classList.remove('maximized');
            if (savedPos) {
              w.style.left = savedPos.left; w.style.top = savedPos.top;
              w.style.right = savedPos.right; w.style.bottom = savedPos.bottom;
              w.style.width = savedPos.width; w.style.height = savedPos.height;
              savedPos = null;
            }
          }
          w.classList.add('minimized');
        }
      }
      function maximizeReadme() {
        if (w.classList.contains('maximized')) {
          w.classList.remove('maximized');
          if (savedPos) {
            w.style.left   = savedPos.left;
            w.style.top    = savedPos.top;
            w.style.right  = savedPos.right;
            w.style.bottom = savedPos.bottom;
            w.style.width  = savedPos.width;
            w.style.height = savedPos.height;
            savedPos = null;
          }
        } else {
          savedPos = {
            left: w.style.left, top: w.style.top,
            right: w.style.right, bottom: w.style.bottom,
            width: w.style.width, height: w.style.height
          };
          w.classList.add('maximized');
          w.style.left = w.style.top = w.style.right =
          w.style.bottom = w.style.width = w.style.height = '';
        }
      }

      window.dyoOpenReadme = openReadme;

      w.addEventListener('mousedown', function() {
        window._dyoZTop = (window._dyoZTop || 9000) + 1;
        w.style.zIndex = window._dyoZTop;
      });
      if (closeBtn) closeBtn.addEventListener('click', closeReadme);
      if (minBtn)   minBtn.addEventListener('click',   minimizeReadme);
      if (maxBtn)   maxBtn.addEventListener('click',   maximizeReadme);

      // íƒ€ì´í‹€ë°” ë”ë¸”í´ë¦­ â†’ ìµœëŒ€í™” í† ê¸€
      if (titlebar) {
        titlebar.addEventListener('dblclick', function(e) {
          if (e.target === closeBtn || e.target === minBtn || e.target === maxBtn) return;
          maximizeReadme();
        });

        // ë“œë˜ê·¸
        titlebar.addEventListener('mousedown', function(e) {
          if (w.classList.contains('maximized')) return;
          if (e.target === closeBtn || e.target === minBtn || e.target === maxBtn) return;
          var rect = w.getBoundingClientRect();
          w.style.left = rect.left + 'px'; w.style.top = rect.top + 'px';
          w.style.right = 'auto'; w.style.bottom = 'auto';
          dragging = true;
          dragOX = e.clientX - rect.left;
          dragOY = e.clientY - rect.top;
          e.preventDefault();
        });

        // í„°ì¹˜ ë“œë˜ê·¸
        titlebar.addEventListener('touchstart', function(e) {
          if (w.classList.contains('maximized')) return;
          var t = e.touches[0];
          var rect = w.getBoundingClientRect();
          w.style.left = rect.left + 'px'; w.style.top = rect.top + 'px';
          w.style.right = 'auto'; w.style.bottom = 'auto';
          dragging = true;
          dragOX = t.clientX - rect.left;
          dragOY = t.clientY - rect.top;
        }, { passive: true });
      }

      document.addEventListener('mousemove', function(e) {
        if (dragging) {
          var x = Math.max(0, Math.min(window.innerWidth  - w.offsetWidth,  e.clientX - dragOX));
          var y = Math.max(0, Math.min(window.innerHeight - 40, e.clientY - dragOY));
          w.style.left = x + 'px'; w.style.top = y + 'px';
        }
        if (resizing) {
          var dx = e.clientX - resizeSX;
          var dy = e.clientY - resizeSY;
          var r = resizeSRect;
          var nL = r.left, nT = r.top, nW = r.width, nH = r.height;
          if (resizeDir.indexOf('e') !== -1) nW = Math.max(MIN_W, r.width + dx);
          if (resizeDir.indexOf('s') !== -1) nH = Math.max(MIN_H, r.height + dy);
          if (resizeDir.indexOf('w') !== -1) { nW = Math.max(MIN_W, r.width - dx); nL = r.left + r.width - nW; }
          if (resizeDir.indexOf('n') !== -1) { nH = Math.max(MIN_H, r.height - dy); nT = r.top + r.height - nH; }
          w.style.left = nL + 'px'; w.style.top = nT + 'px';
          w.style.width = nW + 'px'; w.style.height = nH + 'px';
        }
      });
      document.addEventListener('touchmove', function(e) {
        if (!dragging) return;
        var t = e.touches[0];
        var x = Math.max(0, Math.min(window.innerWidth  - w.offsetWidth,  t.clientX - dragOX));
        var y = Math.max(0, Math.min(window.innerHeight - 40, t.clientY - dragOY));
        w.style.left = x + 'px'; w.style.top = y + 'px';
      }, { passive: true });
      document.addEventListener('mouseup',  function() { dragging = false; resizing = false; });
      document.addEventListener('touchend', function() { dragging = false; });

      // ë¦¬ì‚¬ì´ì¦ˆ í•¸ë“¤
      w.querySelectorAll('.dyo-brs-handle').forEach(function(handle) {
        handle.addEventListener('mousedown', function(e) {
          if (w.classList.contains('maximized') || w.classList.contains('minimized')) return;
          e.stopPropagation(); e.preventDefault();
          resizing = true;
          resizeDir = handle.getAttribute('data-dir');
          resizeSX = e.clientX; resizeSY = e.clientY;
          var rect = w.getBoundingClientRect();
          resizeSRect = { left: rect.left, top: rect.top, width: rect.width, height: rect.height };
          w.style.left = rect.left + 'px'; w.style.top = rect.top + 'px';
          w.style.width = rect.width + 'px'; w.style.height = rect.height + 'px';
          w.style.right = 'auto'; w.style.bottom = 'auto';
        });
      });
    })();

    // ============================================================
    // Guestbook ì±„íŒ…ì°½
    // ============================================================
    (function() {
      var w        = document.getElementById('dyoGuestWin');
      var titlebar = document.getElementById('dyoGuestTitlebar');
      var closeBtn = document.getElementById('dyoGuestClose');
      var minBtn   = document.getElementById('dyoGuestMin');
      var maxBtn   = document.getElementById('dyoGuestMax');
      var reloadBtn  = document.getElementById('dyoGuestReload');
      var chat       = document.getElementById('dyoGuestChat');
      var loading    = document.getElementById('dyoGuestLoading');
      var metaRow    = document.getElementById('dyoGuestMeta');
      var nameInput  = document.getElementById('dyoGuestIName');
      var pwInput    = document.getElementById('dyoGuestIPw');
      var textarea   = document.getElementById('dyoGuestTextarea');
      var sendBtn    = document.getElementById('dyoGuestSend');
      if (!w) return;

      var ADMIN_NICK = 'doyoucode';
      var isOwner    = false;
      var isLoggedIn = false;
      var msgData    = {};   // id â†’ { author, content }
      var dragging = false, dragOX = 0, dragOY = 0;
      var resizing = false, resizeDir = '', resizeSX = 0, resizeSY = 0, resizeSRect = null;
      var MIN_W = 300, MIN_H = 200;
      var savedPos = null;
      var loaded = false;

      // â”€â”€ ìœ í‹¸ â”€â”€
      function esc(t) {
        return String(t).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
      }

      function sha256hex(str) {
        return crypto.subtle.digest('SHA-256', new TextEncoder().encode(str))
          .then(function(buf) {
            return Array.from(new Uint8Array(buf))
              .map(function(b){ return b.toString(16).padStart(2,'0'); }).join('');
          });
      }

      // Tistory ë°©ëª…ë¡ ë¹„ë°€ë²ˆí˜¸: SHA-256( MD5( encodeURIComponent(pw) ) )
      function tistoryHashPw(passwd) {
        var encoded = encodeURIComponent(passwd);
        var md5hash = (typeof md5 === 'function') ? md5(encoded) : encoded;
        return sha256hex(md5hash);
      }

      function sendGuest() {
        var text = textarea ? textarea.value.trim() : '';
        if (!text) return;
        var name = nameInput ? nameInput.value.trim() : '';
        var pw   = pwInput   ? pwInput.value        : '';
        if (!name && metaRow && !metaRow.classList.contains('owner-mode')) return;

        sendBtn.disabled = true;
        var hashPromise = pw ? tistoryHashPw(pw) : Promise.resolve('');
        hashPromise.then(function(hashedPw) {
          return fetch('/m/api/guestbook', {
            method: 'POST',
            credentials: 'include',
            headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
            body: JSON.stringify({
              captcha:    '',
              comment:    text,
              homepage:   '',
              isSecret:   false,
              mentionId:  null,
              name:       name,
              parent:     null,
              password:   hashedPw
            })
          });
        }).then(function(r) {
          if (!r.ok) throw new Error('HTTP ' + r.status);
          return r.json();
        }).then(function() {
          if (textarea) textarea.value = '';
          loaded = false;
          loadGuest();
        }).catch(function() {
          alert('ì „ì†¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
        }).finally(function() {
          sendBtn.disabled = false;
        });
      }

      function editGuest(id, bwrap) {
        var d = msgData[id];
        if (!d) return;
        var bubbleEl = bwrap.querySelector('.dyo-chat-bubble');
        var editBtnEl = bwrap.querySelector('.dyo-chat-editbtn');
        bubbleEl.style.display = 'none';
        if (editBtnEl) editBtnEl.style.display = 'none';

        var form = document.createElement('div');
        form.className = 'dyo-cedit-wrap';
        form.innerHTML =
          '<textarea class="dyo-cedit-ta" rows="2">' + esc(d.content) + '</textarea>' +
          (isLoggedIn ? '' : '<input type="password" class="dyo-cedit-pw" placeholder="ë¹„ë°€ë²ˆí˜¸">') +
          '<div class="dyo-cedit-btns">' +
          '<button class="dyo-cedit-cancel">ì·¨ì†Œ</button>' +
          '<button class="dyo-cedit-save">ìˆ˜ì •</button>' +
          '</div>';
        bwrap.insertBefore(form, bubbleEl);

        var ta      = form.querySelector('.dyo-cedit-ta');
        var pwEl    = form.querySelector('.dyo-cedit-pw');
        var cancelB = form.querySelector('.dyo-cedit-cancel');
        var saveB   = form.querySelector('.dyo-cedit-save');

        ta.focus();
        ta.setSelectionRange(ta.value.length, ta.value.length);

        cancelB.addEventListener('click', function() {
          form.remove();
          bubbleEl.style.display = '';
          if (editBtnEl) editBtnEl.style.display = '';
        });

        function doSave() {
          var newText = ta.value.trim();
          if (!newText) return;
          var pwVal = pwEl ? pwEl.value : '';
          saveB.disabled = true;
          (pwVal ? tistoryHashPw(pwVal) : Promise.resolve(''))
            .then(function(hashed) {
              return fetch('/m/api/guestbook/' + id, {
                method: 'PUT',
                credentials: 'include',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ comment: newText, mentionId: null, name: d.author, password: hashed, secret: false })
              });
            })
            .then(function(r) { if (!r.ok) throw new Error(); return r.json(); })
            .then(function() { loaded = false; loadGuest(); })
            .catch(function() { alert('ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.'); saveB.disabled = false; });
        }

        saveB.addEventListener('click', doSave);
        ta.addEventListener('keydown', function(e) {
          if (e.key === 'Enter' && (e.ctrlKey || e.metaKey)) { e.preventDefault(); doSave(); }
        });
      }

      function deleteGuest(id, bwrap) {
        var d = msgData[id];
        if (!d) return;

        var bubbleEl  = bwrap.querySelector('.dyo-chat-bubble');
        var editBtnEl = bwrap.querySelector('.dyo-chat-editbtn');
        var delBtnEl  = bwrap.querySelector('.dyo-chat-delbtn');

        function restore() {
          bubbleEl.style.display = '';
          if (editBtnEl) editBtnEl.style.display = '';
          if (delBtnEl)  delBtnEl.style.display  = '';
        }

        function doDelete(hashedPw, form) {
          fetch('/m/api/guestbook/' + id, {
            method: 'DELETE',
            credentials: 'include',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ password: hashedPw })
          })
          .then(function(r) { if (!r.ok) throw new Error(); return r.json(); })
          .then(function() { loaded = false; loadGuest(); })
          .catch(function() {
            alert('ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.');
            if (form) form.remove();
            restore();
          });
        }

        if (isLoggedIn) {
          // ë¡œê·¸ì¸ ìƒíƒœ: í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ë§Œ
          if (!confirm('ì´ ë©”ì‹œì§€ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return;
          doDelete('', null);
        } else {
          // ë¹„ë¡œê·¸ì¸ ê²ŒìŠ¤íŠ¸: ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í¼ í‘œì‹œ
          bubbleEl.style.display = 'none';
          if (editBtnEl) editBtnEl.style.display = 'none';
          if (delBtnEl)  delBtnEl.style.display  = 'none';

          var form = document.createElement('div');
          form.className = 'dyo-cedit-wrap';
          form.innerHTML =
            '<div class="dyo-cdel-notice">ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?</div>' +
            '<input type="password" class="dyo-cedit-pw" placeholder="ë¹„ë°€ë²ˆí˜¸">' +
            '<div class="dyo-cedit-btns">' +
            '<button class="dyo-cedit-cancel">ì·¨ì†Œ</button>' +
            '<button class="dyo-cedit-save dyo-cedit-del">ì‚­ì œ</button>' +
            '</div>';
          bwrap.insertBefore(form, bubbleEl);

          var pwEl    = form.querySelector('.dyo-cedit-pw');
          var cancelB = form.querySelector('.dyo-cedit-cancel');
          var saveB   = form.querySelector('.dyo-cedit-save');

          pwEl.focus();

          cancelB.addEventListener('click', function() {
            form.remove();
            restore();
          });

          saveB.addEventListener('click', function() {
            var pwVal = pwEl.value;
            if (!pwVal) { pwEl.focus(); return; }
            saveB.disabled = true;
            tistoryHashPw(pwVal).then(function(hashed) {
              doDelete(hashed, form);
            });
          });

          pwEl.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') { e.preventDefault(); saveB.click(); }
          });
        }
      }

      function renderChat(msgs) {
        if (msgs.length === 0) {
          chat.innerHTML = '<div class="dyo-guest-empty">ë°©ëª…ë¡ì´ ë¹„ì–´ìˆê±°ë‚˜<br>ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div>';
        } else {
          chat.innerHTML = msgs.map(function(m) {
            var role    = m.isAdmin ? 'admin' : 'visitor';
            var editBtn = m.canEdit && m.id
              ? '<button class="dyo-chat-editbtn" data-id="' + m.id + '" title="ìˆ˜ì •">âœ</button>'
              : '';
            var delBtn  = m.canDelete && m.id
              ? '<button class="dyo-chat-delbtn" data-id="' + m.id + '" title="ì‚­ì œ">ğŸ—‘</button>'
              : '';
            return '<div class="dyo-chat-row ' + role + '">' +
                   '<div class="dyo-chat-wrap">' +
                   '<div class="dyo-chat-name">' + esc(m.author) + '</div>' +
                   '<div class="dyo-chat-bwrap">' +
                   '<div class="dyo-chat-bubble">' + esc(m.content) + '</div>' +
                   editBtn + delBtn +
                   '</div></div></div>';
          }).join('');
          chat.scrollTop = chat.scrollHeight;
        }
        loading.style.display = 'none';
        chat.style.display = 'flex';
      }

      function loadGuest() {
        loaded = true;
        loading.style.display = 'flex';
        loading.querySelector('span').textContent = 'ë°©ëª…ë¡ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...';
        loading.querySelector('.dyo-guest-spinner').style.display = '';
        chat.style.display = 'none';
        chat.innerHTML = '';

        fetch('/m/api/guestbook?reverse=true', { credentials: 'include', cache: 'no-store' })
          .then(function(r) {
            if (!r.ok) throw new Error('HTTP ' + r.status);
            return r.json();
          })
          .then(function(json) {
            var items = (json.data && json.data.items) || [];
            var msgs = [];
            // Pass 1: ë¡œê·¸ì¸ ìƒíƒœ í™•ì •
            //   isOwner    = ê´€ë¦¬ì ë¡œê·¸ì¸ (isRequestUser && role=owner)
            //   isLoggedIn = ì¼ë°˜ ê³„ì • ë¡œê·¸ì¸ (isRequestUser, ê´€ë¦¬ì í¬í•¨)
            isOwner    = false;
            isLoggedIn = false;
            msgData    = {};
            items.forEach(function(item) {
              if (item.writer && item.writer.isRequestUser) {
                isLoggedIn = true;
                if (item.writer.role === 'owner') isOwner = true;
              }
              (item.children || []).forEach(function(c) {
                if (c.writer && c.writer.isRequestUser) {
                  isLoggedIn = true;
                  if (c.writer.role === 'owner') isOwner = true;
                }
              });
            });
            // Pass 2: canEdit ê²°ì •
            //   ê´€ë¦¬ì(isOwner)    : ë³¸ì¸(ê´€ë¦¬ì) ë©”ì‹œì§€ë§Œ
            //   ë¡œê·¸ì¸ ì¼ë°˜ ê³„ì •   : isRequestUser=trueì¸ ë³¸ì¸ ë©”ì‹œì§€ë§Œ
            //   ë¹„ë¡œê·¸ì¸ ê²ŒìŠ¤íŠ¸    : ê²ŒìŠ¤íŠ¸ ë©”ì‹œì§€ ì „ì²´ (í´ë¦­ ì‹œ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥)
            function calcCanEdit(writer) {
              var isAdmin = !!(writer && writer.role === 'owner');
              var isMine  = !!(writer && writer.isRequestUser);
              if (isOwner)    return isAdmin;   // ê´€ë¦¬ì: ê´€ë¦¬ì ë©”ì‹œì§€ë§Œ
              if (isLoggedIn) return isMine;    // ë¡œê·¸ì¸: ë³¸ì¸ ë©”ì‹œì§€ë§Œ
              return !isAdmin;                  // ë¹„ë¡œê·¸ì¸: ê²ŒìŠ¤íŠ¸ ë©”ì‹œì§€ ì „ì²´
            }
            function calcCanDelete(writer) {
              var isAdmin = !!(writer && writer.role === 'owner');
              var isMine  = !!(writer && writer.isRequestUser);
              if (isOwner)    return true;      // ê´€ë¦¬ì: ëª¨ë“  ë©”ì‹œì§€ ì‚­ì œ ê°€ëŠ¥
              if (isLoggedIn) return isMine;    // ë¡œê·¸ì¸: ë³¸ì¸ ë©”ì‹œì§€ë§Œ
              return !isAdmin;                  // ë¹„ë¡œê·¸ì¸: ê²ŒìŠ¤íŠ¸ ë©”ì‹œì§€ ì „ì²´ (ë¹„ë°€ë²ˆí˜¸ í•„ìš”)
            }
            items.forEach(function(item) {
              var isAdmin    = !!(item.writer && item.writer.role === 'owner');
              var canEdit    = calcCanEdit(item.writer);
              var canDelete  = calcCanDelete(item.writer);
              msgData[item.id] = { author: item.writer ? item.writer.name : 'ë°©ë¬¸ì', content: item.content };
              msgs.push({ id: item.id, author: item.writer ? item.writer.name : 'ë°©ë¬¸ì', content: item.content, isAdmin: isAdmin, canEdit: canEdit, canDelete: canDelete });
              (item.children || []).forEach(function(child) {
                var childIsAdmin   = !!(child.writer && child.writer.role === 'owner');
                var childCanEdit   = calcCanEdit(child.writer);
                var childCanDelete = calcCanDelete(child.writer);
                msgData[child.id] = { author: child.writer ? child.writer.name : ADMIN_NICK, content: child.content };
                msgs.push({ id: child.id, author: child.writer ? child.writer.name : ADMIN_NICK, content: child.content, isAdmin: true, canEdit: childCanEdit, canDelete: childCanDelete });
              });
            });
            // ownerì´ë©´ ì´ë¦„/ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ ìˆ¨ê¸°ê¸°
            if (metaRow) {
              if (isOwner) metaRow.classList.add('owner-mode');
              else         metaRow.classList.remove('owner-mode');
            }
            renderChat(msgs);
          })
          .catch(function() {
            loading.querySelector('span').textContent = 'ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨. â†º ë²„íŠ¼ìœ¼ë¡œ ì¬ì‹œë„';
            loading.querySelector('.dyo-guest-spinner').style.display = 'none';
          });
      }

      // â”€â”€ ì°½ ì—´ê¸°/ë‹«ê¸°/ìµœì†Œí™”/ìµœëŒ€í™” â”€â”€
      function openGuest() {
        if (!w.classList.contains('open')) {
          var W = Math.min(360, window.innerWidth  - 40);
          var H = Math.min(580, window.innerHeight - 40);
          w.style.width  = W + 'px';
          w.style.height = H + 'px';
          w.style.left   = Math.round(window.innerWidth - W - 24) + 'px';
          w.style.top    = Math.round((window.innerHeight - H) / 2) + 'px';
          w.style.right  = 'auto';
          w.style.bottom = 'auto';
        }
        w.classList.add('open');
        w.classList.remove('minimized');
        window._dyoZTop = (window._dyoZTop || 9000) + 1;
        w.style.zIndex = window._dyoZTop;
        if (!loaded) loadGuest();
      }
      function closeGuest() {
        w.classList.remove('open','minimized','maximized');
        savedPos = null;
      }
      function minimizeGuest() {
        if (w.classList.contains('minimized')) {
          w.classList.remove('minimized');
        } else {
          if (w.classList.contains('maximized')) {
            w.classList.remove('maximized');
            if (savedPos) {
              w.style.left=savedPos.left; w.style.top=savedPos.top;
              w.style.right=savedPos.right; w.style.bottom=savedPos.bottom;
              w.style.width=savedPos.width; w.style.height=savedPos.height;
              savedPos=null;
            }
          }
          w.classList.add('minimized');
        }
      }
      function maximizeGuest() {
        if (w.classList.contains('maximized')) {
          w.classList.remove('maximized');
          if (savedPos) {
            w.style.left=savedPos.left; w.style.top=savedPos.top;
            w.style.right=savedPos.right; w.style.bottom=savedPos.bottom;
            w.style.width=savedPos.width; w.style.height=savedPos.height;
            savedPos=null;
          }
        } else {
          savedPos = { left:w.style.left, top:w.style.top, right:w.style.right,
                       bottom:w.style.bottom, width:w.style.width, height:w.style.height };
          w.classList.add('maximized');
          w.style.left=w.style.top=w.style.right=w.style.bottom=w.style.width=w.style.height='';
        }
      }

      window.dyoOpenGuest = openGuest;

      w.addEventListener('mousedown', function() {
        window._dyoZTop = (window._dyoZTop || 9000) + 1;
        w.style.zIndex = window._dyoZTop;
      });
      if (closeBtn)  closeBtn.addEventListener('click',  closeGuest);
      if (minBtn)    minBtn.addEventListener('click',    minimizeGuest);
      if (maxBtn)    maxBtn.addEventListener('click',    maximizeGuest);
      if (reloadBtn) reloadBtn.addEventListener('click', function() { loaded=false; loadGuest(); });
      if (sendBtn)   sendBtn.addEventListener('click', sendGuest);
      chat.addEventListener('click', function(e) {
        var editBtn = e.target.closest('.dyo-chat-editbtn');
        if (editBtn) {
          var bwrap = editBtn.closest('.dyo-chat-bwrap');
          if (bwrap) editGuest(editBtn.dataset.id, bwrap);
          return;
        }
        var delBtn = e.target.closest('.dyo-chat-delbtn');
        if (delBtn) {
          var bwrap = delBtn.closest('.dyo-chat-bwrap');
          if (bwrap) deleteGuest(delBtn.dataset.id, bwrap);
        }
      });
      if (textarea) {
        textarea.addEventListener('keydown', function(e) {
          if (e.key === 'Enter' && (e.ctrlKey || e.metaKey)) { e.preventDefault(); sendGuest(); }
        });
      }

      if (titlebar) {
        titlebar.addEventListener('dblclick', function(e) {
          if (e.target===closeBtn||e.target===minBtn||e.target===maxBtn) return;
          maximizeGuest();
        });
        titlebar.addEventListener('mousedown', function(e) {
          if (w.classList.contains('maximized')) return;
          if (e.target===closeBtn||e.target===minBtn||e.target===maxBtn) return;
          var r = w.getBoundingClientRect();
          w.style.left=r.left+'px'; w.style.top=r.top+'px';
          w.style.right='auto'; w.style.bottom='auto';
          dragging=true; dragOX=e.clientX-r.left; dragOY=e.clientY-r.top;
          e.preventDefault();
        });
        titlebar.addEventListener('touchstart', function(e) {
          if (w.classList.contains('maximized')) return;
          var t=e.touches[0], r=w.getBoundingClientRect();
          w.style.left=r.left+'px'; w.style.top=r.top+'px';
          w.style.right='auto'; w.style.bottom='auto';
          dragging=true; dragOX=t.clientX-r.left; dragOY=t.clientY-r.top;
        }, {passive:true});
      }

      document.addEventListener('mousemove', function(e) {
        if (dragging) {
          var x=Math.max(0,Math.min(window.innerWidth-w.offsetWidth, e.clientX-dragOX));
          var y=Math.max(0,Math.min(window.innerHeight-40, e.clientY-dragOY));
          w.style.left=x+'px'; w.style.top=y+'px';
        }
        if (resizing) {
          var dx=e.clientX-resizeSX, dy=e.clientY-resizeSY, r=resizeSRect;
          var nL=r.left,nT=r.top,nW=r.width,nH=r.height;
          if (resizeDir.indexOf('e')!==-1) nW=Math.max(MIN_W,r.width+dx);
          if (resizeDir.indexOf('s')!==-1) nH=Math.max(MIN_H,r.height+dy);
          if (resizeDir.indexOf('w')!==-1){nW=Math.max(MIN_W,r.width-dx);nL=r.left+r.width-nW;}
          if (resizeDir.indexOf('n')!==-1){nH=Math.max(MIN_H,r.height-dy);nT=r.top+r.height-nH;}
          w.style.left=nL+'px'; w.style.top=nT+'px';
          w.style.width=nW+'px'; w.style.height=nH+'px';
        }
      });
      document.addEventListener('touchmove', function(e) {
        if (!dragging) return;
        var t=e.touches[0];
        var x=Math.max(0,Math.min(window.innerWidth-w.offsetWidth, t.clientX-dragOX));
        var y=Math.max(0,Math.min(window.innerHeight-40, t.clientY-dragOY));
        w.style.left=x+'px'; w.style.top=y+'px';
      }, {passive:true});
      document.addEventListener('mouseup',  function(){dragging=false;resizing=false;});
      document.addEventListener('touchend', function(){dragging=false;});

      w.querySelectorAll('.dyo-brs-handle').forEach(function(handle) {
        handle.addEventListener('mousedown', function(e) {
          if (w.classList.contains('maximized')||w.classList.contains('minimized')) return;
          e.stopPropagation(); e.preventDefault();
          resizing=true; resizeDir=handle.getAttribute('data-dir');
          resizeSX=e.clientX; resizeSY=e.clientY;
          var r=w.getBoundingClientRect();
          resizeSRect={left:r.left,top:r.top,width:r.width,height:r.height};
          w.style.left=r.left+'px'; w.style.top=r.top+'px';
          w.style.width=r.width+'px'; w.style.height=r.height+'px';
          w.style.right='auto'; w.style.bottom='auto';
        });
      });
    })();
  </script>

  <script>
    // ============================================================
    // ì™¸ë¶€ ë§í¬ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸
    // ============================================================
    (function() {
      var overlay   = document.getElementById('dyoConfirmOverlay');
      var urlEl     = document.getElementById('dyoConfirmUrl');
      var cancelBtn = document.getElementById('dyoConfirmCancel');
      var okBtn     = document.getElementById('dyoConfirmOk');
      if (!overlay) return;

      var pendingUrl = null;

      window.dyoOpenExternal = function(url) {
        pendingUrl = url;
        urlEl.textContent = url;
        overlay.classList.add('show');
      };

      okBtn.addEventListener('click', function() {
        if (pendingUrl) window.open(pendingUrl, '_blank');
        overlay.classList.remove('show');
        pendingUrl = null;
      });

      cancelBtn.addEventListener('click', function() {
        overlay.classList.remove('show');
        pendingUrl = null;
      });

      overlay.addEventListener('click', function(e) {
        if (e.target === overlay) {
          overlay.classList.remove('show');
          pendingUrl = null;
        }
      });

      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && overlay.classList.contains('show')) {
          overlay.classList.remove('show');
          pendingUrl = null;
        }
        if (e.key === 'Enter' && overlay.classList.contains('show')) {
          okBtn.click();
        }
      });
    })();

    // ============================================================
    // ì „ì²´í™”ë©´ í† ê¸€ ë²„íŠ¼
    // ============================================================
    (function() {
      var btn      = document.getElementById('btnFullscreen');
      var iconExp  = document.getElementById('fsIconExpand');
      var iconComp = document.getElementById('fsIconCompress');
      if (!btn) return;

      function updateIcons() {
        var isFs = !!(document.fullscreenElement || document.webkitFullscreenElement);
        iconExp.style.display  = isFs ? 'none'  : '';
        iconComp.style.display = isFs ? ''      : 'none';
        btn.title = isFs ? 'ì „ì²´í™”ë©´ ì¢…ë£Œ' : 'ì „ì²´í™”ë©´';
      }

      btn.addEventListener('click', function() {
        if (document.fullscreenElement || document.webkitFullscreenElement) {
          (document.exitFullscreen || document.webkitExitFullscreen).call(document);
        } else {
          var el = document.documentElement;
          if (el.requestFullscreen) el.requestFullscreen();
          else if (el.webkitRequestFullscreen) el.webkitRequestFullscreen();
        }
      });

      document.addEventListener('fullscreenchange', updateIcons);
      document.addEventListener('webkitfullscreenchange', updateIcons);
    })();

    // ============================================================
    // íƒœìŠ¤í¬ë°” ì—´ë¦° ì°½ ë²„íŠ¼
    // ============================================================
    (function() {
      var container = document.getElementById('dyoBarCenter');
      if (!container) return;

      var winDefs = [
        {
          id: 'dyoShellWin', label: 'Terminal',
          icon: '<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"><polyline points="4 17 10 11 4 5"/><line x1="12" y1="19" x2="20" y2="19"/></svg>',
          open: function() { if (window.dyoOpenShell) window.dyoOpenShell(); }
        },
        {
          id: 'dyoBrowserWin', label: 'Browser',
          icon: '<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>',
          open: function() { if (window.dyoOpenBrowser) window.dyoOpenBrowser('/category'); }
        },
        {
          id: 'dyoReadmeWin', label: 'README',
          icon: '<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>',
          open: function() { if (window.dyoOpenReadme) window.dyoOpenReadme(); }
        },
        {
          id: 'dyoGuestWin', label: 'Guestbook',
          icon: '<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>',
          open: function() { if (window.dyoOpenGuest) window.dyoOpenGuest(); }
        },
        {
          id: 'dyoPropsWin', label: 'Properties',
          icon: '<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/><path d="M4.93 4.93a10 10 0 0 0 0 14.14"/></svg>',
          open: function() { if (window.dyoOpenProps && window._dyoLastPropsMeta) window.dyoOpenProps(window._dyoLastPropsMeta); }
        },
        {
          id: 'dyoExplorerWin', label: 'File Explorer',
          icon: '<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 7a2 2 0 0 1 2-2h4l2 2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/></svg>',
          open: function() { if (window.dyoOpenExplorer) window.dyoOpenExplorer(); }
        }
      ];

      winDefs.forEach(function(def) {
        var winEl = document.getElementById(def.id);
        if (!winEl) return;

        var btn = document.createElement('button');
        btn.className = 'dyo-taskbtn';
        btn.dataset.winId = def.id;
        btn.innerHTML = def.icon + '<span class="dyo-taskbtn-label">' + def.label + '</span>';
        container.appendChild(btn);

        // í´ë¦­: ë‹«í˜â†’ì—´ê¸° / ë‚˜ë¨¸ì§€â†’í•­ìƒ ë§¨ ì•ìœ¼ë¡œ ë³µì›
        btn.addEventListener('click', function() {
          if (!winEl.classList.contains('open')) {
            def.open();
          } else {
            winEl.classList.remove('minimized');
            window._dyoZTop = (window._dyoZTop || 9000) + 1;
            winEl.style.zIndex = window._dyoZTop;
          }
        });

        // ì°½ í´ë˜ìŠ¤ ë³€í™” ê°ì§€ â†’ ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
        var observer = new MutationObserver(function() {
          var isOpen = winEl.classList.contains('open');
          var isMin  = winEl.classList.contains('minimized');
          btn.classList.toggle('open',      isOpen);
          btn.classList.toggle('active',    isOpen && !isMin);
          btn.classList.toggle('minimized', isOpen && isMin);
        });
        observer.observe(winEl, { attributes: true, attributeFilter: ['class'] });
      });
    })();

    // ============================================================
    // ë°”íƒ•í™”ë©´ ìš°í´ë¦­ ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´
    // ============================================================
    (function() {
      var desktop = document.getElementById('dyoDesktop');
      var menu    = document.getElementById('dyoCtxMenu');
      if (!desktop || !menu) return;

      // ì•„ì´ì½˜ ë©”íƒ€ë°ì´í„° (í’ë¶€í•œ ì†ì„± í¬í•¨)
      var iconMeta = {
        desktopIconReadme: {
          name: 'README', ext: '.md', type: 'Document',
          desc: 'ë¸”ë¡œê·¸ ì†Œê°œ ë° ì‚¬ìš©ë²• ë¬¸ì„œ',
          location: '~/Desktop/README.md',
          size: '4.2 KB', disk: '8 KB',
          created: '2025-01-15', modified: '2026-02-27',
          owner: 'doyoucode', group: 'staff',
          permissions: 'Read-only', version: '1.0',
          iconBg: 'linear-gradient(145deg,#f0f6ff 0%,#dce8fb 100%)',
          iconBorder: 'rgba(100,160,255,0.35)', iconColor: '#3b82f6', iconChar: 'ğŸ“„',
          action: function() { if (window.dyoOpenReadme) window.dyoOpenReadme(); }
        },
        desktopIconShell: {
          name: 'Terminal', ext: '.app', type: 'Application',
          desc: 'í„°ë¯¸ë„ ì—ë®¬ë ˆì´í„° (Bash-like shell)',
          location: '/usr/bin/terminal',
          size: 'â€”', disk: 'â€”',
          created: '2025-01-15', modified: '2026-02-27',
          owner: 'root', group: 'wheel',
          permissions: 'Read / Execute', version: '2.1.0',
          iconBg: '#0c0c0c', iconBorder: '#3a3a3a', iconColor: '#cccccc', iconChar: '>_',
          action: function() { if (window.dyoOpenShell) window.dyoOpenShell(); }
        },
        desktopIconBlog: {
          name: 'Dev Blog', ext: '.url', type: 'Shortcut',
          desc: 'Tistory ê°œë°œ ë¸”ë¡œê·¸ ë°”ë¡œê°€ê¸°',
          location: 'https://doyoucode.tistory.com',
          url: 'https://doyoucode.tistory.com/category',
          size: 'â€”', disk: 'â€”',
          created: '2025-01-15', modified: '2026-02-27',
          owner: 'doyoucode', group: 'staff',
          permissions: 'Read-only', version: 'â€”',
          iconBg: 'linear-gradient(145deg,#ff6320 0%,#e8501a 100%)',
          iconBorder: 'rgba(255,140,80,0.4)', iconColor: '#fff', iconChar: 'T',
          action: function() { if (window.dyoOpenBrowser) window.dyoOpenBrowser('/category'); }
        },
        desktopIconGithub: {
          name: 'GitHub', ext: '.url', type: 'Shortcut',
          desc: 'GitHub í”„ë¡œí•„ í˜ì´ì§€ (ì™¸ë¶€ ë§í¬)',
          location: 'https://github.com/doyoungkim-code',
          url: 'https://github.com/doyoungkim-code',
          size: 'â€”', disk: 'â€”',
          created: '2025-01-15', modified: '2026-02-27',
          owner: 'doyoucode', group: 'staff',
          permissions: 'Read-only', version: 'â€”',
          iconBg: 'linear-gradient(145deg,#24292e 0%,#1a1e22 100%)',
          iconBorder: 'rgba(139,148,158,0.3)', iconColor: '#fff', iconChar: 'âŒ¥G',
          action: function() { if (window.dyoOpenExternal) window.dyoOpenExternal('https://github.com/doyoungkim-code'); }
        },
        desktopIconGuest: {
          name: 'Guestbook', ext: '.app', type: 'Application',
          desc: 'ë°©ëª…ë¡ ì±„íŒ… ì• í”Œë¦¬ì¼€ì´ì…˜',
          location: '/home/doyoucode/guestbook',
          size: 'â€”', disk: 'â€”',
          created: '2025-01-15', modified: '2026-02-27',
          owner: 'doyoucode', group: 'staff',
          permissions: 'Read / Write', version: '1.2.0',
          iconBg: 'linear-gradient(145deg,#fffbe0 0%,#fff3a0 100%)',
          iconBorder: 'rgba(200,168,0,0.4)', iconColor: '#c8a800', iconChar: 'ğŸ’¬',
          action: function() { if (window.dyoOpenGuest) window.dyoOpenGuest(); }
        },
        desktopIconExplorer: {
          name: 'File Explorer', ext: '.app', type: 'Application',
          desc: 'ë¸”ë¡œê·¸ ì¹´í…Œê³ ë¦¬ íƒìƒ‰ê¸°',
          location: '/usr/bin/explorer',
          size: 'â€”', disk: 'â€”',
          created: '2025-01-15', modified: '2026-02-27',
          owner: 'root', group: 'wheel',
          permissions: 'Read / Execute', version: '1.0.0',
          iconBg: 'linear-gradient(145deg,#fffbe0 0%,#fde68a 100%)',
          iconBorder: 'rgba(240,163,10,0.4)', iconColor: '#f0a30a', iconChar: 'ğŸ“‚',
          action: function() { if (window.dyoOpenExplorer) window.dyoOpenExplorer(); }
        }
      };

      // ë©”ë‰´ ì•„ì´í…œ ë™ì  ë¹Œë“œ
      function buildMenu(items) {
        menu.innerHTML = '';
        items.forEach(function(item) {
          if (item === 'sep') {
            var sep = document.createElement('div');
            sep.className = 'dyo-ctx-sep';
            menu.appendChild(sep);
          } else {
            var el = document.createElement('button');
            el.className = 'dyo-ctx-item' +
              (item.disabled ? ' disabled' : '') +
              (item.danger   ? ' danger'   : '');
            el.textContent = item.label;
            el.dataset.action = item.action || '';
            if (item.disabled) el.setAttribute('disabled', '');
            menu.appendChild(el);
          }
        });
      }

      function showMenu(x, y) {
        menu.classList.add('show');
        var mw = menu.offsetWidth  || 180;
        var mh = menu.offsetHeight || 200;
        var px = Math.min(x, window.innerWidth  - mw - 8);
        var py = Math.min(y, window.innerHeight - mh - 8);
        menu.style.left = px + 'px';
        menu.style.top  = py + 'px';
      }

      function hideMenu() { menu.classList.remove('show'); }

      function showProps(meta) {
        if (window.dyoOpenProps) window.dyoOpenProps(meta);
      }

      var currentCtx = null;

      // ë°ìŠ¤í¬íƒ‘ ìš°í´ë¦­ â€” 3ê°€ì§€ ì¼€ì´ìŠ¤
      desktop.addEventListener('contextmenu', function(e) {
        if (e.target.closest('.dyo-shell-win, .dyo-browser-win')) return;
        e.preventDefault();

        var iconEl  = e.target.closest('.dyo-desktop-icon');
        var taskBtn = e.target.closest('.dyo-taskbtn');

        if (iconEl) {
          // â”€â”€ ì•„ì´ì½˜ ìš°í´ë¦­
          var meta = iconMeta[iconEl.id];
          currentCtx = { type: 'icon', meta: meta };
          buildMenu([
            { label: 'Open',       action: 'icon-open' },
            'sep',
            { label: 'Properties', action: 'icon-props', disabled: !meta }
          ]);

        } else if (taskBtn) {
          // â”€â”€ íƒœìŠ¤í¬ë°” ë²„íŠ¼ ìš°í´ë¦­
          var winId  = taskBtn.dataset.winId;
          var winEl  = winId ? document.getElementById(winId) : null;
          var isOpen = !!(winEl && winEl.classList.contains('open'));
          var isMini = !!(winEl && winEl.classList.contains('minimized'));
          currentCtx = { type: 'task', winEl: winEl };
          buildMenu([
            { label: 'Bring to Front', action: 'task-front',    disabled: !isOpen },
            { label: 'Minimize',       action: 'task-minimize', disabled: !isOpen || isMini },
            'sep',
            { label: 'Close',          action: 'task-close', danger: true, disabled: !isOpen }
          ]);

        } else {
          // â”€â”€ ë°°ê²½ ìš°í´ë¦­
          currentCtx = { type: 'bg' };
          buildMenu([
            { label: 'New Terminal',       action: 'terminal'  },
            { label: 'Open README',        action: 'readme'    },
            { label: 'Open Guestbook',     action: 'guestbook' },
            { label: 'Dev Blog',           action: 'blog'      },
            { label: 'Open File Explorer', action: 'explorer'  },
            'sep',
            { label: 'Refresh Desktop',    action: 'refresh'   }
          ]);
        }

        showMenu(e.clientX, e.clientY);
      });

      // ë©”ë‰´ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
      document.addEventListener('mousedown', function(e) {
        if (!menu.contains(e.target)) hideMenu();
      });

      // ESC ë‹«ê¸°
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          hideMenu();
        }
      });

      // ë©”ë‰´ ì•„ì´í…œ ì‹¤í–‰
      menu.addEventListener('click', function(e) {
        var item = e.target.closest('.dyo-ctx-item');
        if (!item || item.hasAttribute('disabled')) return;
        hideMenu();
        var action = item.dataset.action;
        var ctx = currentCtx;
        switch (action) {
          // ì•„ì´ì½˜
          case 'icon-open':
            if (ctx && ctx.meta && ctx.meta.action) ctx.meta.action();
            break;
          case 'icon-props':
            if (ctx && ctx.meta) showProps(ctx.meta);
            break;
          // íƒœìŠ¤í¬ë°”
          case 'task-front':
            if (ctx && ctx.winEl) {
              ctx.winEl.classList.remove('minimized');
              window._dyoZTop = (window._dyoZTop || 9000) + 1;
              ctx.winEl.style.zIndex = window._dyoZTop;
            }
            break;
          case 'task-minimize':
            if (ctx && ctx.winEl) ctx.winEl.classList.add('minimized');
            break;
          case 'task-close':
            if (ctx && ctx.winEl) ctx.winEl.classList.remove('open', 'minimized', 'maximized');
            break;
          // ë°°ê²½
          case 'terminal':  if (window.dyoOpenShell)    window.dyoOpenShell();              break;
          case 'readme':    if (window.dyoOpenReadme)  window.dyoOpenReadme();             break;
          case 'guestbook': if (window.dyoOpenGuest)   window.dyoOpenGuest();              break;
          case 'blog':      if (window.dyoOpenBrowser) window.dyoOpenBrowser('/category'); break;
          case 'explorer':  if (window.dyoOpenExplorer) window.dyoOpenExplorer();          break;
          case 'refresh':   location.reload();                                             break;
        }
      });
    })();

    // ============================================================
    // Properties Window
    // ============================================================
    (function() {
      var w        = document.getElementById('dyoPropsWin');
      var titlebar = document.getElementById('dyoPropsTitlebar');
      var closeBtn = document.getElementById('dyoPropsClose');
      var minBtn   = document.getElementById('dyoPropsMin');
      var maxBtn   = document.getElementById('dyoPropsMax');
      var titleEl  = document.getElementById('dyoPropsTitle');
      var bodyEl   = document.getElementById('dyoPropsBody');
      if (!w || !titlebar) return;

      var prevRect = null;

      // í’ë¶€í•œ ì†ì„± ë‚´ìš© ë¹Œë“œ
      function buildContent(meta) {
        var today = new Date().toISOString().slice(0, 10);
        var h = '';

        // ì•„ì´ì½˜ í—¤ë”
        h += '<div class="dyo-props-icon-hdr">';
        h += '<div class="dyo-props-icon-box" style="background:' + meta.iconBg + ';border:1px solid ' + meta.iconBorder + ';">';
        h += '<span style="color:' + meta.iconColor + '">' + (meta.iconChar || '?') + '</span>';
        h += '</div>';
        h += '<div class="dyo-props-icon-name">' + meta.name + (meta.ext || '') + '</div>';
        h += '<div class="dyo-props-type-badge">' + meta.type + '</div>';
        h += '</div>';

        // General
        h += '<div class="dyo-props-section">';
        h += '<div class="dyo-props-section-title">General</div>';
        h += row('Name',        meta.name + (meta.ext || ''));
        h += row('Type',        meta.type);
        h += row('Description', meta.desc);
        h += row('Location',    meta.location, 'accent');
        if (meta.url) h += row('URL', meta.url, 'accent');
        h += '</div>';

        // Storage
        h += '<div class="dyo-props-section">';
        h += '<div class="dyo-props-section-title">Storage</div>';
        h += row('Size',    meta.size || 'â€”');
        h += row('On disk', meta.disk || 'â€”');
        h += '</div>';

        // Dates
        h += '<div class="dyo-props-section">';
        h += '<div class="dyo-props-section-title">Dates</div>';
        h += row('Created',  meta.created  || today);
        h += row('Modified', meta.modified || today);
        h += row('Accessed', today, 'green');
        h += '</div>';

        // Details
        h += '<div class="dyo-props-section">';
        h += '<div class="dyo-props-section-title">Details</div>';
        h += row('Owner',       meta.owner       || 'â€”');
        h += row('Group',       meta.group       || 'â€”');
        h += row('Permissions', meta.permissions || 'â€”');
        if (meta.version && meta.version !== 'â€”') h += row('Version', meta.version);
        h += row('Encoding',    'UTF-8');
        h += row('Platform',    'Web / Browser');
        h += '</div>';

        return h;
      }

      function row(key, val, cls) {
        return '<div class="dyo-props-row">' +
          '<span class="dyo-props-key">' + key + '</span>' +
          '<span class="dyo-props-val' + (cls ? ' ' + cls : '') + '">' + val + '</span>' +
          '</div>';
      }

      function openProps(meta) {
        window._dyoLastPropsMeta = meta;
        titleEl.textContent = meta.name + ' â€” Properties';
        bodyEl.innerHTML = buildContent(meta);
        w.classList.remove('minimized', 'maximized');
        w.classList.add('open');
        bringToFront();
      }

      function closeProps()    { w.classList.remove('open', 'minimized', 'maximized'); }
      function minimizeProps() { w.classList.toggle('minimized'); }
      function maximizeProps() {
        if (w.classList.contains('maximized')) {
          if (prevRect) {
            w.style.left = prevRect.l + 'px'; w.style.top    = prevRect.t + 'px';
            w.style.width = prevRect.w + 'px'; w.style.height = prevRect.h + 'px';
          }
          w.classList.remove('maximized');
        } else {
          var r = w.getBoundingClientRect();
          prevRect = { l: r.left, t: r.top, w: r.width, h: r.height };
          w.style.left = ''; w.style.top = ''; w.style.width = ''; w.style.height = '';
          w.classList.add('maximized');
        }
      }
      function bringToFront() {
        window._dyoZTop = (window._dyoZTop || 9000) + 1;
        w.style.zIndex = window._dyoZTop;
      }

      window.dyoOpenProps = openProps;

      w.addEventListener('mousedown', bringToFront);
      if (closeBtn) closeBtn.addEventListener('click', closeProps);
      if (minBtn)   minBtn.addEventListener('click',   minimizeProps);
      if (maxBtn)   maxBtn.addEventListener('click',   maximizeProps);

      titlebar.addEventListener('dblclick', function(e) {
        if (e.target === closeBtn || e.target === minBtn || e.target === maxBtn) return;
        maximizeProps();
      });

      // ë“œë˜ê·¸
      titlebar.addEventListener('mousedown', function(e) {
        if (w.classList.contains('maximized')) return;
        if (e.target === closeBtn || e.target === minBtn || e.target === maxBtn) return;
        var r = w.getBoundingClientRect();
        w.style.left = r.left + 'px'; w.style.top = r.top + 'px';
        var ox = e.clientX - r.left, oy = e.clientY - r.top;
        function onMove(ev) { w.style.left = (ev.clientX - ox) + 'px'; w.style.top = (ev.clientY - oy) + 'px'; }
        function onUp()    { document.removeEventListener('mousemove', onMove); document.removeEventListener('mouseup', onUp); }
        document.addEventListener('mousemove', onMove);
        document.addEventListener('mouseup', onUp);
      });

      // ë¦¬ì‚¬ì´ì¦ˆ
      w.querySelectorAll('.dyo-brs-handle').forEach(function(handle) {
        handle.addEventListener('mousedown', function(e) {
          if (w.classList.contains('maximized')) return;
          e.preventDefault(); e.stopPropagation();
          var dir = handle.className.replace('dyo-brs-handle', '').trim();
          var r = w.getBoundingClientRect();
          var sx = e.clientX, sy = e.clientY;
          var sl = r.left, st = r.top, sw = r.width, sh = r.height;
          function onMove(ev) {
            var dx = ev.clientX - sx, dy = ev.clientY - sy;
            var nl = sl, nt = st, nw = sw, nh = sh;
            if (dir.includes('e')) nw = Math.max(260, sw + dx);
            if (dir.includes('s')) nh = Math.max(200, sh + dy);
            if (dir.includes('w')) { nw = Math.max(260, sw - dx); nl = sl + sw - nw; }
            if (dir.includes('n')) { nh = Math.max(200, sh - dy); nt = st + sh - nh; }
            w.style.width = nw + 'px'; w.style.height = nh + 'px';
            w.style.left  = nl + 'px'; w.style.top    = nt + 'px';
          }
          function onUp() { document.removeEventListener('mousemove', onMove); document.removeEventListener('mouseup', onUp); }
          document.addEventListener('mousemove', onMove);
          document.addEventListener('mouseup', onUp);
        });
      });
    })();

    // ============================================================
    // File Explorer Window
    // ============================================================
    (function() {
      var w        = document.getElementById('dyoExplorerWin');
      var titlebar = document.getElementById('dyoExplorerTitlebar');
      var closeBtn = document.getElementById('dyoExplorerClose');
      var minBtn   = document.getElementById('dyoExplorerMin');
      var maxBtn   = document.getElementById('dyoExplorerMax');
      var treeEl   = document.getElementById('dyoExplorerTree');
      var mainEl   = document.getElementById('dyoExplorerMain');
      if (!w || !titlebar) return;

      var prevRect = null;
      var treeBuilt = false;

      // ì¹´í…Œê³ ë¦¬ íŠ¸ë¦¬ ì •ì˜
      var tree = [
        { label: 'Project', icon: 'ğŸ“‚', url: '/category/Project', children: [
          { label: 'Dev Log',    icon: 'ğŸ“', url: '/category/Project/Dev%20Log' },
          { label: 'Retrospect', icon: 'ğŸ“', url: '/category/Project/Retrospect' }
        ]},
        { label: 'Backend', icon: 'â˜•', url: '/category/Backend', children: [
          { label: 'Java',        icon: 'â˜•', url: '/category/Backend/Java' },
          { label: 'Spring Boot', icon: 'ğŸƒ', url: '/category/Backend/Spring%20Boot' },
          { label: 'Database',    icon: 'ğŸ’¾', url: '/category/Backend/Database' }
        ]},
        { label: 'Frontend', icon: 'ğŸ¨', url: '/category/Frontend', children: [
          { label: 'Mobile', icon: 'ğŸ“±', url: '/category/Frontend/Mobile' },
          { label: 'Web',    icon: 'ğŸŒ', url: '/category/Frontend/Web' }
        ]},
        { label: 'CS & Engineering', icon: 'ğŸ’»', url: '/category/CS%20&%20Engineering', children: [
          { label: 'C',                icon: 'ğŸ“—', url: '/category/CS%20&%20Engineering/C' },
          { label: 'Algorithm',        icon: 'ğŸ“', url: '/category/CS%20&%20Engineering/Algorithm' },
          { label: 'Computer Science', icon: 'ğŸ“š', url: '/category/CS%20&%20Engineering/Computer%20Science' },
          { label: 'Infra & Tools',    icon: 'ğŸ§±', url: '/category/CS%20&%20Engineering/Infra%20&%20Tools' }
        ]},
        { label: 'Growth', icon: 'ğŸŒ±', url: '/category/Growth', children: [
          { label: 'Certifications', icon: 'ğŸ“œ', url: '/category/Growth/Certifications' },
          { label: 'English',        icon: 'ğŸ“–', url: '/category/Growth/English' },
          { label: 'Books',          icon: 'ğŸ“š', url: '/category/Growth/Books' },
          { label: 'Documents',      icon: 'ğŸ“‘', url: '/category/Growth/Documents' },
          { label: 'etc',            icon: 'ğŸ“„', url: '/category/Growth/etc' }
        ]}
      ];

      function bringToFront() {
        window._dyoZTop = (window._dyoZTop || 9000) + 1;
        w.style.zIndex = window._dyoZTop;
      }

      // ë©”ì¸ íŒ¨ë„ ë Œë”ë§ (DOM ê¸°ë°˜ â€” í´ë¡œì €ë¡œ ë…¸ë“œ ì°¸ì¡° ìœ ì§€)
      function renderMain(node) {
        mainEl.innerHTML = '';

        var path = document.createElement('div');
        path.className = 'dyo-exp-path';
        path.textContent = node.icon + '\u00a0' + node.label;
        mainEl.appendChild(path);

        if (node.children && node.children.length > 0) {
          var grid = document.createElement('div');
          grid.className = 'dyo-explorer-grid';

          node.children.forEach(function(child) {
            var item = document.createElement('div');
            item.className = 'dyo-exp-item';
            item.innerHTML =
              '<div class="dyo-exp-item-icon">' + child.icon + '</div>' +
              '<div class="dyo-exp-item-label">' + child.label + '</div>';

            item.addEventListener('click', function() {
              if (child.children && child.children.length > 0) {
                // í•˜ìœ„ í´ë” ìˆìŒ â†’ ì•ˆìœ¼ë¡œ íƒìƒ‰
                renderMain(child);
              } else {
                // ë¦¬í”„ ë…¸ë“œ â†’ ë¸Œë¼ìš°ì €ì—ì„œ ë°”ë¡œ ì—´ê¸°
                if (window.dyoOpenBrowser) window.dyoOpenBrowser(child.url);
              }
            });

            grid.appendChild(item);
          });

          mainEl.appendChild(grid);
        } else {
          // ë¦¬í”„ ë‹¨ë… í‘œì‹œ
          var empty = document.createElement('div');
          empty.className = 'dyo-exp-empty';
          empty.innerHTML =
            '<div style="font-size:40px;margin-bottom:8px;">' + node.icon + '</div>' +
            '<div style="color:#8b949e;font-size:12px;margin-bottom:14px;">' + node.label + '</div>';
          var openBtn = document.createElement('button');
          openBtn.className = 'dyo-exp-open-btn';
          openBtn.textContent = 'Open in Browser \u2192';
          openBtn.addEventListener('click', function() {
            if (window.dyoOpenBrowser) window.dyoOpenBrowser(node.url);
          });
          empty.appendChild(openBtn);
          mainEl.appendChild(empty);
        }
      }

      // íŠ¸ë¦¬ ë¹Œë“œ
      function buildTreeNodes(nodes, depth, parentEl, setActive) {
        nodes.forEach(function(node) {
          var hasChildren = !!(node.children && node.children.length);
          var wrapper = document.createElement('div');

          var item = document.createElement('div');
          item.className = 'dyo-tree-item';
          item.style.paddingLeft = (8 + depth * 14) + 'px';

          var arrow = document.createElement('span');
          arrow.className = 'dyo-tree-arrow';
          arrow.textContent = hasChildren ? 'â–¶' : '\u00a0';

          var label = document.createElement('span');
          label.textContent = node.icon + '\u00a0' + node.label;

          item.appendChild(arrow);
          item.appendChild(label);
          wrapper.appendChild(item);

          var childrenEl = null;
          if (hasChildren) {
            childrenEl = document.createElement('div');
            childrenEl.className = 'dyo-tree-children collapsed';
            buildTreeNodes(node.children, depth + 1, childrenEl, setActive);
            wrapper.appendChild(childrenEl);
          }

          item.addEventListener('click', function(e) {
            e.stopPropagation();
            // active ì—…ë°ì´íŠ¸
            treeEl.querySelectorAll('.dyo-tree-item').forEach(function(el) { el.classList.remove('active'); });
            item.classList.add('active');
            renderMain(node);
            if (hasChildren && childrenEl) {
              var collapsed = childrenEl.classList.contains('collapsed');
              childrenEl.classList.toggle('collapsed');
              arrow.textContent = collapsed ? 'â–¼' : 'â–¶';
              arrow.classList.toggle('open', collapsed);
            }
          });

          parentEl.appendChild(wrapper);
        });
      }

      function buildTree() {
        if (treeBuilt) return;
        treeBuilt = true;

        // Root í•­ëª©
        var rootItem = document.createElement('div');
        rootItem.className = 'dyo-tree-item active';
        rootItem.style.paddingLeft = '8px';
        rootItem.innerHTML = '<span class="dyo-tree-arrow open">â–¼</span><span>ğŸ“‚\u00a0Blog Root</span>';

        var rootChildren = document.createElement('div');
        rootChildren.className = 'dyo-tree-children';
        buildTreeNodes(tree, 1, rootChildren, null);

        treeEl.appendChild(rootItem);
        treeEl.appendChild(rootChildren);

        rootItem.addEventListener('click', function() {
          treeEl.querySelectorAll('.dyo-tree-item').forEach(function(el) { el.classList.remove('active'); });
          rootItem.classList.add('active');
          renderMain({ label: 'Blog Root', icon: 'ğŸ“‚', url: '/category', children: tree });
          var isCollapsed = rootChildren.classList.toggle('collapsed');
          var arrow = rootItem.querySelector('.dyo-tree-arrow');
          if (arrow) {
            arrow.textContent = isCollapsed ? 'â–¶' : 'â–¼';
            arrow.classList.toggle('open', !isCollapsed);
          }
        });

        renderMain({ label: 'Blog Root', icon: 'ğŸ“‚', url: '/category', children: tree });
      }

      function openExplorer() {
        var W = 680, H = 480;
        var left = Math.max(10, Math.round((window.innerWidth  - W) / 2));
        var top  = Math.max(10, Math.round((window.innerHeight - H) / 2));
        w.style.width  = W + 'px';
        w.style.height = H + 'px';
        w.style.left   = left + 'px';
        w.style.top    = top  + 'px';
        w.classList.remove('minimized', 'maximized');
        w.classList.add('open');
        bringToFront();
        buildTree();
      }

      window.dyoOpenExplorer = openExplorer;

      w.addEventListener('mousedown', bringToFront);
      if (closeBtn) closeBtn.addEventListener('click', function() { w.classList.remove('open', 'minimized', 'maximized'); });
      if (minBtn)   minBtn.addEventListener('click', function() { w.classList.toggle('minimized'); });
      if (maxBtn)   maxBtn.addEventListener('click', function() {
        if (w.classList.contains('maximized')) {
          if (prevRect) {
            w.style.left = prevRect.l + 'px'; w.style.top    = prevRect.t + 'px';
            w.style.width = prevRect.w + 'px'; w.style.height = prevRect.h + 'px';
          }
          w.classList.remove('maximized');
        } else {
          var r = w.getBoundingClientRect();
          prevRect = { l: r.left, t: r.top, w: r.width, h: r.height };
          w.style.left = ''; w.style.top = ''; w.style.width = ''; w.style.height = '';
          w.classList.add('maximized');
        }
      });

      titlebar.addEventListener('dblclick', function(e) {
        if (e.target === closeBtn || e.target === minBtn || e.target === maxBtn) return;
        maxBtn.click();
      });

      // ë“œë˜ê·¸
      titlebar.addEventListener('mousedown', function(e) {
        if (w.classList.contains('maximized')) return;
        if (e.target === closeBtn || e.target === minBtn || e.target === maxBtn) return;
        var r = w.getBoundingClientRect();
        w.style.left = r.left + 'px'; w.style.top = r.top + 'px';
        var ox = e.clientX - r.left, oy = e.clientY - r.top;
        function onMove(ev) { w.style.left = (ev.clientX - ox) + 'px'; w.style.top = (ev.clientY - oy) + 'px'; }
        function onUp() { document.removeEventListener('mousemove', onMove); document.removeEventListener('mouseup', onUp); }
        document.addEventListener('mousemove', onMove);
        document.addEventListener('mouseup', onUp);
      });

      // ë¦¬ì‚¬ì´ì¦ˆ
      w.querySelectorAll('.dyo-brs-handle').forEach(function(handle) {
        handle.addEventListener('mousedown', function(e) {
          if (w.classList.contains('maximized')) return;
          e.preventDefault(); e.stopPropagation();
          var dir = handle.className.replace('dyo-brs-handle', '').trim();
          var r = w.getBoundingClientRect();
          var sx = e.clientX, sy = e.clientY;
          var sl = r.left, st = r.top, sw = r.width, sh = r.height;
          function onMove(ev) {
            var dx = ev.clientX - sx, dy = ev.clientY - sy;
            var nl = sl, nt = st, nw = sw, nh = sh;
            if (dir.includes('e')) nw = Math.max(380, sw + dx);
            if (dir.includes('s')) nh = Math.max(250, sh + dy);
            if (dir.includes('w')) { nw = Math.max(380, sw - dx); nl = sl + sw - nw; }
            if (dir.includes('n')) { nh = Math.max(250, sh - dy); nt = st + sh - nh; }
            w.style.width = nw + 'px'; w.style.height = nh + 'px';
            w.style.left  = nl + 'px'; w.style.top    = nt + 'px';
          }
          function onUp() { document.removeEventListener('mousemove', onMove); document.removeEventListener('mouseup', onUp); }
          document.addEventListener('mousemove', onMove);
          document.addEventListener('mouseup', onUp);
        });
      });
    })();
  </script>
</body>

</html>
